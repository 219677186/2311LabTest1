"use strict";var mf=Object.create;var qs=Object.defineProperty;var gf=Object.getOwnPropertyDescriptor;var yf=Object.getOwnPropertyNames;var bf=Object.getPrototypeOf,vf=Object.prototype.hasOwnProperty;var R=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Sf=(n,e)=>{for(var t in e)qs(n,t,{get:e[t],enumerable:!0})},ro=(n,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yf(e))!vf.call(n,i)&&i!==t&&qs(n,i,{get:()=>e[i],enumerable:!(s=gf(e,i))||s.enumerable});return n};var ye=(n,e,t)=>(t=n!=null?mf(bf(n)):{},ro(e||!n||!n.__esModule?qs(t,"default",{value:n,enumerable:!0}):t,n)),wf=n=>ro(qs({},"__esModule",{value:!0}),n);var Is=R(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.Event=Oe.Response=Oe.Message=void 0;var Ts=class{constructor(e){this.seq=0,this.type=e}};Oe.Message=Ts;var oo=class extends Ts{constructor(e,t){super("response");this.request_seq=e.seq,this.command=e.command,t?(this.success=!1,this.message=t):this.success=!0}};Oe.Response=oo;var ao=class extends Ts{constructor(e,t){super("event");this.event=e,t&&(this.body=t)}};Oe.Event=ao});var co=R(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.ProtocolServer=void 0;var Ef=require("events"),_t=Is(),lo=class{get event(){return this._event||(this._event=(e,t)=>{this._listener=e,this._this=t;let s;return s={dispose:()=>{this._listener=void 0,this._this=void 0}},s}),this._event}fire(e){if(this._listener)try{this._listener.call(this._this,e)}catch{}}hasListener(){return!!this._listener}dispose(){this._listener=void 0,this._this=void 0}},et=class extends Ef.EventEmitter{constructor(){super();this._sendMessage=new lo,this._pendingRequests=new Map,this.onDidSendMessage=this._sendMessage.event}dispose(){}handleMessage(e){if(e.type==="request")this.dispatchRequest(e);else if(e.type==="response"){let t=e,s=this._pendingRequests.get(t.request_seq);s&&(this._pendingRequests.delete(t.request_seq),s(t))}}_isRunningInline(){return this._sendMessage&&this._sendMessage.hasListener()}start(e,t){this._sequence=1,this._writableStream=t,this._rawData=Buffer.alloc(0),e.on("data",s=>this._handleData(s)),e.on("close",()=>{this._emitEvent(new _t.Event("close"))}),e.on("error",s=>{this._emitEvent(new _t.Event("error","inStream error: "+(s&&s.message)))}),t.on("error",s=>{this._emitEvent(new _t.Event("error","outStream error: "+(s&&s.message)))}),e.resume()}stop(){this._writableStream&&this._writableStream.end()}sendEvent(e){this._send("event",e)}sendResponse(e){e.seq>0?console.error(`attempt to send more than one response for command ${e.command}`):this._send("response",e)}sendRequest(e,t,s,i){let r={command:e};if(t&&Object.keys(t).length>0&&(r.arguments=t),this._send("request",r),i){this._pendingRequests.set(r.seq,i);let o=setTimeout(()=>{clearTimeout(o);let a=this._pendingRequests.get(r.seq);a&&(this._pendingRequests.delete(r.seq),a(new _t.Response(r,"timeout")))},s)}}dispatchRequest(e){}_emitEvent(e){this.emit(e.event,e)}_send(e,t){if(t.type=e,t.seq=this._sequence++,this._writableStream){let s=JSON.stringify(t);this._writableStream.write(`Content-Length: ${Buffer.byteLength(s,"utf8")}\r
\r
${s}`,"utf8")}this._sendMessage.fire(t)}_handleData(e){for(this._rawData=Buffer.concat([this._rawData,e]);;){if(this._contentLength>=0){if(this._rawData.length>=this._contentLength){let t=this._rawData.toString("utf8",0,this._contentLength);if(this._rawData=this._rawData.slice(this._contentLength),this._contentLength=-1,t.length>0)try{let s=JSON.parse(t);this.handleMessage(s)}catch(s){this._emitEvent(new _t.Event("error","Error handling data: "+(s&&s.message)))}continue}}else{let t=this._rawData.indexOf(et.TWO_CRLF);if(t!==-1){let i=this._rawData.toString("utf8",0,t).split(`\r
`);for(let r=0;r<i.length;r++){let o=i[r].split(/: +/);o[0]=="Content-Length"&&(this._contentLength=+o[1])}this._rawData=this._rawData.slice(t+et.TWO_CRLF.length);continue}}break}}};Cs.ProtocolServer=et;et.TWO_CRLF=`\r
\r
`});var uo=R(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.runDebugAdapter=void 0;var kf=require("net");function Af(n){let e=0;if(process.argv.slice(2).forEach(function(s,i,r){let o=/^--server=(\d{4,5})$/.exec(s);o&&(e=parseInt(o[1],10))}),e>0)console.error(`waiting for debug protocol on port ${e}`),kf.createServer(s=>{console.error(">> accepted connection from client"),s.on("end",()=>{console.error(`>> client connection closed
`)});let i=new n(!1,!0);i.setRunAsServer(!0),i.start(s,s)}).listen(e);else{let s=new n(!1);process.on("SIGTERM",()=>{s.shutdown()}),s.start(process.stdin,process.stdout)}}Ns.runDebugAdapter=Af});var Ps=R(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.DebugSession=P.ErrorDestination=P.MemoryEvent=P.InvalidatedEvent=P.ProgressEndEvent=P.ProgressUpdateEvent=P.ProgressStartEvent=P.CapabilitiesEvent=P.LoadedSourceEvent=P.ModuleEvent=P.BreakpointEvent=P.ThreadEvent=P.OutputEvent=P.ExitedEvent=P.TerminatedEvent=P.InitializedEvent=P.ContinuedEvent=P.StoppedEvent=P.CompletionItem=P.Module=P.Breakpoint=P.Variable=P.Thread=P.StackFrame=P.Scope=P.Source=void 0;var _f=co(),te=Is(),Lf=uo(),fo=require("url"),ho=class{constructor(e,t,s=0,i,r){this.name=e,this.path=t,this.sourceReference=s,i&&(this.origin=i),r&&(this.adapterData=r)}};P.Source=ho;var po=class{constructor(e,t,s=!1){this.name=e,this.variablesReference=t,this.expensive=s}};P.Scope=po;var mo=class{constructor(e,t,s,i=0,r=0){this.id=e,this.source=s,this.line=i,this.column=r,this.name=t}};P.StackFrame=mo;var go=class{constructor(e,t){this.id=e,t?this.name=t:this.name="Thread #"+e}};P.Thread=go;var yo=class{constructor(e,t,s=0,i,r){this.name=e,this.value=t,this.variablesReference=s,typeof r=="number"&&(this.namedVariables=r),typeof i=="number"&&(this.indexedVariables=i)}};P.Variable=yo;var bo=class{constructor(e,t,s,i){this.verified=e;let r=this;typeof t=="number"&&(r.line=t),typeof s=="number"&&(r.column=s),i&&(r.source=i)}setId(e){this.id=e}};P.Breakpoint=bo;var vo=class{constructor(e,t){this.id=e,this.name=t}};P.Module=vo;var So=class{constructor(e,t,s=0){this.label=e,this.start=t,this.length=s}};P.CompletionItem=So;var wo=class extends te.Event{constructor(e,t,s){super("stopped");this.body={reason:e},typeof t=="number"&&(this.body.threadId=t),typeof s=="string"&&(this.body.text=s)}};P.StoppedEvent=wo;var Eo=class extends te.Event{constructor(e,t){super("continued");this.body={threadId:e},typeof t=="boolean"&&(this.body.allThreadsContinued=t)}};P.ContinuedEvent=Eo;var ko=class extends te.Event{constructor(){super("initialized")}};P.InitializedEvent=ko;var Ao=class extends te.Event{constructor(e){super("terminated");if(typeof e=="boolean"||e){let t=this;t.body={restart:e}}}};P.TerminatedEvent=Ao;var _o=class extends te.Event{constructor(e){super("exited");this.body={exitCode:e}}};P.ExitedEvent=_o;var Lo=class extends te.Event{constructor(e,t="console",s){super("output");this.body={category:t,output:e},s!==void 0&&(this.body.data=s)}};P.OutputEvent=Lo;var Ro=class extends te.Event{constructor(e,t){super("thread");this.body={reason:e,threadId:t}}};P.ThreadEvent=Ro;var Oo=class extends te.Event{constructor(e,t){super("breakpoint");this.body={reason:e,breakpoint:t}}};P.BreakpointEvent=Oo;var qo=class extends te.Event{constructor(e,t){super("module");this.body={reason:e,module:t}}};P.ModuleEvent=qo;var To=class extends te.Event{constructor(e,t){super("loadedSource");this.body={reason:e,source:t}}};P.LoadedSourceEvent=To;var Io=class extends te.Event{constructor(e){super("capabilities");this.body={capabilities:e}}};P.CapabilitiesEvent=Io;var Co=class extends te.Event{constructor(e,t,s){super("progressStart");this.body={progressId:e,title:t},typeof s=="string"&&(this.body.message=s)}};P.ProgressStartEvent=Co;var No=class extends te.Event{constructor(e,t){super("progressUpdate");this.body={progressId:e},typeof t=="string"&&(this.body.message=t)}};P.ProgressUpdateEvent=No;var Po=class extends te.Event{constructor(e,t){super("progressEnd");this.body={progressId:e},typeof t=="string"&&(this.body.message=t)}};P.ProgressEndEvent=Po;var Do=class extends te.Event{constructor(e,t,s){super("invalidated");this.body={},e&&(this.body.areas=e),t&&(this.body.threadId=t),s&&(this.body.stackFrameId=s)}};P.InvalidatedEvent=Do;var Mo=class extends te.Event{constructor(e,t,s){super("memory");this.body={memoryReference:e,offset:t,count:s}}};P.MemoryEvent=Mo;var je;(function(n){n[n.User=1]="User",n[n.Telemetry=2]="Telemetry"})(je=P.ErrorDestination||(P.ErrorDestination={}));var be=class extends _f.ProtocolServer{constructor(e,t){super();let s=typeof e=="boolean"?e:!1;this._debuggerLinesStartAt1=s,this._debuggerColumnsStartAt1=s,this._debuggerPathsAreURIs=!1,this._clientLinesStartAt1=!0,this._clientColumnsStartAt1=!0,this._clientPathsAreURIs=!1,this._isServer=typeof t=="boolean"?t:!1,this.on("close",()=>{this.shutdown()}),this.on("error",i=>{this.shutdown()})}setDebuggerPathFormat(e){this._debuggerPathsAreURIs=e!=="path"}setDebuggerLinesStartAt1(e){this._debuggerLinesStartAt1=e}setDebuggerColumnsStartAt1(e){this._debuggerColumnsStartAt1=e}setRunAsServer(e){this._isServer=e}static run(e){(0,Lf.runDebugAdapter)(e)}shutdown(){this._isServer||this._isRunningInline()||setTimeout(()=>{process.exit(0)},100)}sendErrorResponse(e,t,s,i,r=je.User){let o;typeof t=="number"?(o={id:t,format:s},i&&(o.variables=i),r&je.User&&(o.showUser=!0),r&je.Telemetry&&(o.sendTelemetry=!0)):o=t,e.success=!1,e.message=be.formatPII(o.format,!0,o.variables),e.body||(e.body={}),e.body.error=o,this.sendResponse(e)}runInTerminalRequest(e,t,s){this.sendRequest("runInTerminal",e,t,s)}dispatchRequest(e){let t=new te.Response(e);try{if(e.command==="initialize"){var s=e.arguments;if(typeof s.linesStartAt1=="boolean"&&(this._clientLinesStartAt1=s.linesStartAt1),typeof s.columnsStartAt1=="boolean"&&(this._clientColumnsStartAt1=s.columnsStartAt1),s.pathFormat!=="path")this.sendErrorResponse(t,2018,"debug adapter only supports native paths",null,je.Telemetry);else{let i=t;i.body={},this.initializeRequest(i,s)}}else e.command==="launch"?this.launchRequest(t,e.arguments,e):e.command==="attach"?this.attachRequest(t,e.arguments,e):e.command==="disconnect"?this.disconnectRequest(t,e.arguments,e):e.command==="terminate"?this.terminateRequest(t,e.arguments,e):e.command==="restart"?this.restartRequest(t,e.arguments,e):e.command==="setBreakpoints"?this.setBreakPointsRequest(t,e.arguments,e):e.command==="setFunctionBreakpoints"?this.setFunctionBreakPointsRequest(t,e.arguments,e):e.command==="setExceptionBreakpoints"?this.setExceptionBreakPointsRequest(t,e.arguments,e):e.command==="configurationDone"?this.configurationDoneRequest(t,e.arguments,e):e.command==="continue"?this.continueRequest(t,e.arguments,e):e.command==="next"?this.nextRequest(t,e.arguments,e):e.command==="stepIn"?this.stepInRequest(t,e.arguments,e):e.command==="stepOut"?this.stepOutRequest(t,e.arguments,e):e.command==="stepBack"?this.stepBackRequest(t,e.arguments,e):e.command==="reverseContinue"?this.reverseContinueRequest(t,e.arguments,e):e.command==="restartFrame"?this.restartFrameRequest(t,e.arguments,e):e.command==="goto"?this.gotoRequest(t,e.arguments,e):e.command==="pause"?this.pauseRequest(t,e.arguments,e):e.command==="stackTrace"?this.stackTraceRequest(t,e.arguments,e):e.command==="scopes"?this.scopesRequest(t,e.arguments,e):e.command==="variables"?this.variablesRequest(t,e.arguments,e):e.command==="setVariable"?this.setVariableRequest(t,e.arguments,e):e.command==="setExpression"?this.setExpressionRequest(t,e.arguments,e):e.command==="source"?this.sourceRequest(t,e.arguments,e):e.command==="threads"?this.threadsRequest(t,e):e.command==="terminateThreads"?this.terminateThreadsRequest(t,e.arguments,e):e.command==="evaluate"?this.evaluateRequest(t,e.arguments,e):e.command==="stepInTargets"?this.stepInTargetsRequest(t,e.arguments,e):e.command==="gotoTargets"?this.gotoTargetsRequest(t,e.arguments,e):e.command==="completions"?this.completionsRequest(t,e.arguments,e):e.command==="exceptionInfo"?this.exceptionInfoRequest(t,e.arguments,e):e.command==="loadedSources"?this.loadedSourcesRequest(t,e.arguments,e):e.command==="dataBreakpointInfo"?this.dataBreakpointInfoRequest(t,e.arguments,e):e.command==="setDataBreakpoints"?this.setDataBreakpointsRequest(t,e.arguments,e):e.command==="readMemory"?this.readMemoryRequest(t,e.arguments,e):e.command==="writeMemory"?this.writeMemoryRequest(t,e.arguments,e):e.command==="disassemble"?this.disassembleRequest(t,e.arguments,e):e.command==="cancel"?this.cancelRequest(t,e.arguments,e):e.command==="breakpointLocations"?this.breakpointLocationsRequest(t,e.arguments,e):e.command==="setInstructionBreakpoints"?this.setInstructionBreakpointsRequest(t,e.arguments,e):this.customRequest(e.command,t,e.arguments,e)}catch(i){this.sendErrorResponse(t,1104,"{_stack}",{_exception:i.message,_stack:i.stack},je.Telemetry)}}initializeRequest(e,t){e.body.supportsConditionalBreakpoints=!1,e.body.supportsHitConditionalBreakpoints=!1,e.body.supportsFunctionBreakpoints=!1,e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!1,e.body.supportsStepBack=!1,e.body.supportsSetVariable=!1,e.body.supportsRestartFrame=!1,e.body.supportsStepInTargetsRequest=!1,e.body.supportsGotoTargetsRequest=!1,e.body.supportsCompletionsRequest=!1,e.body.supportsRestartRequest=!1,e.body.supportsExceptionOptions=!1,e.body.supportsValueFormattingOptions=!1,e.body.supportsExceptionInfoRequest=!1,e.body.supportTerminateDebuggee=!1,e.body.supportsDelayedStackTraceLoading=!1,e.body.supportsLoadedSourcesRequest=!1,e.body.supportsLogPoints=!1,e.body.supportsTerminateThreadsRequest=!1,e.body.supportsSetExpression=!1,e.body.supportsTerminateRequest=!1,e.body.supportsDataBreakpoints=!1,e.body.supportsReadMemoryRequest=!1,e.body.supportsDisassembleRequest=!1,e.body.supportsCancelRequest=!1,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsClipboardContext=!1,e.body.supportsSteppingGranularity=!1,e.body.supportsInstructionBreakpoints=!1,e.body.supportsExceptionFilterOptions=!1,this.sendResponse(e)}disconnectRequest(e,t,s){this.sendResponse(e),this.shutdown()}launchRequest(e,t,s){this.sendResponse(e)}attachRequest(e,t,s){this.sendResponse(e)}terminateRequest(e,t,s){this.sendResponse(e)}restartRequest(e,t,s){this.sendResponse(e)}setBreakPointsRequest(e,t,s){this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}setExceptionBreakPointsRequest(e,t,s){this.sendResponse(e)}configurationDoneRequest(e,t,s){this.sendResponse(e)}continueRequest(e,t,s){this.sendResponse(e)}nextRequest(e,t,s){this.sendResponse(e)}stepInRequest(e,t,s){this.sendResponse(e)}stepOutRequest(e,t,s){this.sendResponse(e)}stepBackRequest(e,t,s){this.sendResponse(e)}reverseContinueRequest(e,t,s){this.sendResponse(e)}restartFrameRequest(e,t,s){this.sendResponse(e)}gotoRequest(e,t,s){this.sendResponse(e)}pauseRequest(e,t,s){this.sendResponse(e)}sourceRequest(e,t,s){this.sendResponse(e)}threadsRequest(e,t){this.sendResponse(e)}terminateThreadsRequest(e,t,s){this.sendResponse(e)}stackTraceRequest(e,t,s){this.sendResponse(e)}scopesRequest(e,t,s){this.sendResponse(e)}variablesRequest(e,t,s){this.sendResponse(e)}setVariableRequest(e,t,s){this.sendResponse(e)}setExpressionRequest(e,t,s){this.sendResponse(e)}evaluateRequest(e,t,s){this.sendResponse(e)}stepInTargetsRequest(e,t,s){this.sendResponse(e)}gotoTargetsRequest(e,t,s){this.sendResponse(e)}completionsRequest(e,t,s){this.sendResponse(e)}exceptionInfoRequest(e,t,s){this.sendResponse(e)}loadedSourcesRequest(e,t,s){this.sendResponse(e)}dataBreakpointInfoRequest(e,t,s){this.sendResponse(e)}setDataBreakpointsRequest(e,t,s){this.sendResponse(e)}readMemoryRequest(e,t,s){this.sendResponse(e)}writeMemoryRequest(e,t,s){this.sendResponse(e)}disassembleRequest(e,t,s){this.sendResponse(e)}cancelRequest(e,t,s){this.sendResponse(e)}breakpointLocationsRequest(e,t,s){this.sendResponse(e)}setInstructionBreakpointsRequest(e,t,s){this.sendResponse(e)}customRequest(e,t,s,i){this.sendErrorResponse(t,1014,"unrecognized request",null,je.Telemetry)}convertClientLineToDebugger(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e+1:this._clientLinesStartAt1?e-1:e}convertDebuggerLineToClient(e){return this._debuggerLinesStartAt1?this._clientLinesStartAt1?e:e-1:this._clientLinesStartAt1?e+1:e}convertClientColumnToDebugger(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e+1:this._clientColumnsStartAt1?e-1:e}convertDebuggerColumnToClient(e){return this._debuggerColumnsStartAt1?this._clientColumnsStartAt1?e:e-1:this._clientColumnsStartAt1?e+1:e}convertClientPathToDebugger(e){return this._clientPathsAreURIs!==this._debuggerPathsAreURIs?this._clientPathsAreURIs?be.uri2path(e):be.path2uri(e):e}convertDebuggerPathToClient(e){return this._debuggerPathsAreURIs!==this._clientPathsAreURIs?this._debuggerPathsAreURIs?be.uri2path(e):be.path2uri(e):e}static path2uri(e){process.platform==="win32"&&(/^[A-Z]:/.test(e)&&(e=e[0].toLowerCase()+e.substr(1)),e=e.replace(/\\/g,"/")),e=encodeURI(e);let t=new fo.URL("file:");return t.pathname=e,t.toString()}static uri2path(e){let t=new fo.URL(e),s=decodeURIComponent(t.pathname);return process.platform==="win32"&&(/^\/[a-zA-Z]:/.test(s)&&(s=s[1].toLowerCase()+s.substr(2)),s=s.replace(/\//g,"\\")),s}static formatPII(e,t,s){return e.replace(be._formatPIIRegexp,function(i,r){return t&&r.length>0&&r[0]!=="_"?i:s[r]&&s.hasOwnProperty(r)?s[r]:i})}};P.DebugSession=be;be._formatPIIRegexp=/{([^}]+)}/g});var xo=R(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.InternalLogger=void 0;var $o=require("fs"),Bo=require("path"),re=Lt(),jo=class{constructor(e,t){this.beforeExitCallback=()=>this.dispose(),this._logCallback=e,this._logToConsole=t,this._minLogLevel=re.LogLevel.Warn,this.disposeCallback=(s,i)=>{this.dispose(),i=i||2,i+=128,process.exit(i)}}async setup(e){if(this._minLogLevel=e.consoleMinLogLevel,this._prependTimestamp=e.prependTimestamp,e.logFilePath)if(!Bo.isAbsolute(e.logFilePath))this.log(`logFilePath must be an absolute path: ${e.logFilePath}`,re.LogLevel.Error);else{let t=s=>this.sendLog(`Error creating log file at path: ${e.logFilePath}. Error: ${s.toString()}
`,re.LogLevel.Error);try{await $o.promises.mkdir(Bo.dirname(e.logFilePath),{recursive:!0}),this.log(`Verbose logs are written to:
`,re.LogLevel.Warn),this.log(e.logFilePath+`
`,re.LogLevel.Warn),this._logFileStream=$o.createWriteStream(e.logFilePath),this.logDateTime(),this.setupShutdownListeners(),this._logFileStream.on("error",s=>{t(s)})}catch(s){t(s)}}}logDateTime(){let e=new Date,s=e.getUTCFullYear()+`-${e.getUTCMonth()+1}-`+e.getUTCDate()+", "+Fo();this.log(s+`
`,re.LogLevel.Verbose,!1)}setupShutdownListeners(){process.on("beforeExit",this.beforeExitCallback),process.on("SIGTERM",this.disposeCallback),process.on("SIGINT",this.disposeCallback)}removeShutdownListeners(){process.removeListener("beforeExit",this.beforeExitCallback),process.removeListener("SIGTERM",this.disposeCallback),process.removeListener("SIGINT",this.disposeCallback)}dispose(){return new Promise(e=>{this.removeShutdownListeners(),this._logFileStream?(this._logFileStream.end(e),this._logFileStream=null):e()})}log(e,t,s=!0){if(this._minLogLevel!==re.LogLevel.Stop){if(t>=this._minLogLevel&&this.sendLog(e,t),this._logToConsole){let i=t===re.LogLevel.Error?console.error:t===re.LogLevel.Warn?console.warn:null;i&&i((0,re.trimLastNewline)(e))}t===re.LogLevel.Error&&(e=`[${re.LogLevel[t]}] ${e}`),this._prependTimestamp&&s&&(e="["+Fo()+"] "+e),this._logFileStream&&this._logFileStream.write(e)}}sendLog(e,t){if(e.length>1500){let s=!!e.match(/(\n|\r\n)$/);e=e.substr(0,1500)+"[...]",s&&(e=e+`
`)}if(this._logCallback){let s=new re.LogOutputEvent(e,t);this._logCallback(s)}}};Ms.InternalLogger=jo;function Fo(){let n=new Date,e=Ds(2,String(n.getUTCHours())),t=Ds(2,String(n.getUTCMinutes())),s=Ds(2,String(n.getUTCSeconds())),i=Ds(3,String(n.getUTCMilliseconds()));return e+":"+t+":"+s+"."+i+" UTC"}function Ds(n,e){return e.length>=n?e:String("0".repeat(n)+e).slice(-n)}});var Lt=R(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.trimLastNewline=oe.LogOutputEvent=oe.logger=oe.Logger=oe.LogLevel=void 0;var Rf=xo(),Of=Ps(),qe;(function(n){n[n.Verbose=0]="Verbose",n[n.Log=1]="Log",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n[n.Stop=4]="Stop"})(qe=oe.LogLevel||(oe.LogLevel={}));var Vn=class{constructor(){this._pendingLogQ=[]}log(e,t=qe.Log){e=e+`
`,this._write(e,t)}verbose(e){this.log(e,qe.Verbose)}warn(e){this.log(e,qe.Warn)}error(e){this.log(e,qe.Error)}dispose(){if(this._currentLogger){let e=this._currentLogger.dispose();return this._currentLogger=null,e}else return Promise.resolve()}_write(e,t=qe.Log){e=e+"",this._pendingLogQ?this._pendingLogQ.push({msg:e,level:t}):this._currentLogger&&this._currentLogger.log(e,t)}setup(e,t,s=!0){let i=typeof t=="string"?t:t&&this._logFilePathFromInit;if(this._currentLogger){let r={consoleMinLogLevel:e,logFilePath:i,prependTimestamp:s};this._currentLogger.setup(r).then(()=>{if(this._pendingLogQ){let o=this._pendingLogQ;this._pendingLogQ=null,o.forEach(a=>this._write(a.msg,a.level))}})}}init(e,t,s){this._pendingLogQ=this._pendingLogQ||[],this._currentLogger=new Rf.InternalLogger(e,s),this._logFilePathFromInit=t}};oe.Logger=Vn;oe.logger=new Vn;var Vo=class extends Of.OutputEvent{constructor(e,t){let s=t===qe.Error?"stderr":t===qe.Warn?"console":"stdout";super(e,s)}};oe.LogOutputEvent=Vo;function qf(n){return n.replace(/(\n|\r\n)$/,"")}oe.trimLastNewline=qf});var Wo=R($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.LoggingDebugSession=void 0;var Ko=Lt(),tt=Ko.logger,Uo=Ps(),Yo=class extends Uo.DebugSession{constructor(e,t,s){super(t,s);this.obsolete_logFilePath=e,this.on("error",i=>{tt.error(i.body)})}start(e,t){super.start(e,t),tt.init(s=>this.sendEvent(s),this.obsolete_logFilePath,this._isServer)}sendEvent(e){if(!(e instanceof Ko.LogOutputEvent)){let t=e;e instanceof Uo.OutputEvent&&e.body&&e.body.data&&e.body.data.doNotLogOutput&&(delete e.body.data.doNotLogOutput,t={...e},t.body={...e.body,output:"<output not logged>"}),tt.verbose(`To client: ${JSON.stringify(t)}`)}super.sendEvent(e)}sendRequest(e,t,s,i){tt.verbose(`To client: ${JSON.stringify(e)}(${JSON.stringify(t)}), timeout: ${s}`),super.sendRequest(e,t,s,i)}sendResponse(e){tt.verbose(`To client: ${JSON.stringify(e)}`),super.sendResponse(e)}dispatchRequest(e){tt.verbose(`From client: ${e.command}(${JSON.stringify(e.arguments)})`),super.dispatchRequest(e)}};$s.LoggingDebugSession=Yo});var Ho=R(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Handles=void 0;var Jo=class{constructor(e){this.START_HANDLE=1e3,this._handleMap=new Map,this._nextHandle=typeof e=="number"?e:this.START_HANDLE}reset(){this._nextHandle=this.START_HANDLE,this._handleMap=new Map}create(e){var t=this._nextHandle++;return this._handleMap.set(t,e),t}get(e,t){return this._handleMap.get(e)||t}};Bs.Handles=Jo});var Go=R(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.Handles=T.Response=T.Event=T.ErrorDestination=T.CompletionItem=T.Module=T.Source=T.Breakpoint=T.Variable=T.Scope=T.StackFrame=T.Thread=T.MemoryEvent=T.InvalidatedEvent=T.ProgressEndEvent=T.ProgressUpdateEvent=T.ProgressStartEvent=T.CapabilitiesEvent=T.LoadedSourceEvent=T.ModuleEvent=T.BreakpointEvent=T.ThreadEvent=T.OutputEvent=T.ContinuedEvent=T.StoppedEvent=T.ExitedEvent=T.TerminatedEvent=T.InitializedEvent=T.logger=T.Logger=T.LoggingDebugSession=T.DebugSession=void 0;var H=Ps();Object.defineProperty(T,"DebugSession",{enumerable:!0,get:function(){return H.DebugSession}});Object.defineProperty(T,"InitializedEvent",{enumerable:!0,get:function(){return H.InitializedEvent}});Object.defineProperty(T,"TerminatedEvent",{enumerable:!0,get:function(){return H.TerminatedEvent}});Object.defineProperty(T,"ExitedEvent",{enumerable:!0,get:function(){return H.ExitedEvent}});Object.defineProperty(T,"StoppedEvent",{enumerable:!0,get:function(){return H.StoppedEvent}});Object.defineProperty(T,"ContinuedEvent",{enumerable:!0,get:function(){return H.ContinuedEvent}});Object.defineProperty(T,"OutputEvent",{enumerable:!0,get:function(){return H.OutputEvent}});Object.defineProperty(T,"ThreadEvent",{enumerable:!0,get:function(){return H.ThreadEvent}});Object.defineProperty(T,"BreakpointEvent",{enumerable:!0,get:function(){return H.BreakpointEvent}});Object.defineProperty(T,"ModuleEvent",{enumerable:!0,get:function(){return H.ModuleEvent}});Object.defineProperty(T,"LoadedSourceEvent",{enumerable:!0,get:function(){return H.LoadedSourceEvent}});Object.defineProperty(T,"CapabilitiesEvent",{enumerable:!0,get:function(){return H.CapabilitiesEvent}});Object.defineProperty(T,"ProgressStartEvent",{enumerable:!0,get:function(){return H.ProgressStartEvent}});Object.defineProperty(T,"ProgressUpdateEvent",{enumerable:!0,get:function(){return H.ProgressUpdateEvent}});Object.defineProperty(T,"ProgressEndEvent",{enumerable:!0,get:function(){return H.ProgressEndEvent}});Object.defineProperty(T,"InvalidatedEvent",{enumerable:!0,get:function(){return H.InvalidatedEvent}});Object.defineProperty(T,"MemoryEvent",{enumerable:!0,get:function(){return H.MemoryEvent}});Object.defineProperty(T,"Thread",{enumerable:!0,get:function(){return H.Thread}});Object.defineProperty(T,"StackFrame",{enumerable:!0,get:function(){return H.StackFrame}});Object.defineProperty(T,"Scope",{enumerable:!0,get:function(){return H.Scope}});Object.defineProperty(T,"Variable",{enumerable:!0,get:function(){return H.Variable}});Object.defineProperty(T,"Breakpoint",{enumerable:!0,get:function(){return H.Breakpoint}});Object.defineProperty(T,"Source",{enumerable:!0,get:function(){return H.Source}});Object.defineProperty(T,"Module",{enumerable:!0,get:function(){return H.Module}});Object.defineProperty(T,"CompletionItem",{enumerable:!0,get:function(){return H.CompletionItem}});Object.defineProperty(T,"ErrorDestination",{enumerable:!0,get:function(){return H.ErrorDestination}});var Tf=Wo();Object.defineProperty(T,"LoggingDebugSession",{enumerable:!0,get:function(){return Tf.LoggingDebugSession}});var zo=Lt();T.Logger=zo;var Qo=Is();Object.defineProperty(T,"Event",{enumerable:!0,get:function(){return Qo.Event}});Object.defineProperty(T,"Response",{enumerable:!0,get:function(){return Qo.Response}});var If=Ho();Object.defineProperty(T,"Handles",{enumerable:!0,get:function(){return If.Handles}});var Cf=zo.logger;T.logger=Cf});var ea=R((pg,Zo)=>{"use strict";function ve(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function Xo(n,e){for(var t="",s=0,i=-1,r=0,o,a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||r===1))if(i!==a-1&&r===2){if(t.length<2||s!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",s=0):(t=t.slice(0,c),s=t.length-1-t.lastIndexOf("/")),i=a,r=0;continue}}else if(t.length===2||t.length===1){t="",s=0,i=a,r=0;continue}}e&&(t.length>0?t+="/..":t="..",s=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),s=a-i-1;i=a,r=0}else o===46&&r!==-1?++r:r=-1}return t}function Nf(n,e){var t=e.dir||e.root,s=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+s:t+n+s:s}var st={resolve:function(){for(var e="",t=!1,s,i=arguments.length-1;i>=-1&&!t;i--){var r;i>=0?r=arguments[i]:(s===void 0&&(s=process.cwd()),r=s),ve(r),r.length!==0&&(e=r+"/"+e,t=r.charCodeAt(0)===47)}return e=Xo(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(ve(e),e.length===0)return".";var t=e.charCodeAt(0)===47,s=e.charCodeAt(e.length-1)===47;return e=Xo(e,!t),e.length===0&&!t&&(e="."),e.length>0&&s&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return ve(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,t=0;t<arguments.length;++t){var s=arguments[t];ve(s),s.length>0&&(e===void 0?e=s:e+="/"+s)}return e===void 0?".":st.normalize(e)},relative:function(e,t){if(ve(e),ve(t),e===t||(e=st.resolve(e),t=st.resolve(t),e===t))return"";for(var s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var i=e.length,r=i-s,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var a=t.length,c=a-o,d=r<c?r:c,m=-1,p=0;p<=d;++p){if(p===d){if(c>d){if(t.charCodeAt(o+p)===47)return t.slice(o+p+1);if(p===0)return t.slice(o+p)}else r>d&&(e.charCodeAt(s+p)===47?m=p:p===0&&(m=0));break}var v=e.charCodeAt(s+p),E=t.charCodeAt(o+p);if(v!==E)break;v===47&&(m=p)}var L="";for(p=s+m+1;p<=i;++p)(p===i||e.charCodeAt(p)===47)&&(L.length===0?L+="..":L+="/..");return L.length>0?L+t.slice(o+m):(o+=m,t.charCodeAt(o)===47&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(ve(e),e.length===0)return".";for(var t=e.charCodeAt(0),s=t===47,i=-1,r=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===47){if(!r){i=o;break}}else r=!1;return i===-1?s?"/":".":s&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');ve(e);var s=0,i=-1,r=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var a=t.length-1,c=-1;for(o=e.length-1;o>=0;--o){var d=e.charCodeAt(o);if(d===47){if(!r){s=o+1;break}}else c===-1&&(r=!1,c=o+1),a>=0&&(d===t.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=c))}return s===i?i=c:i===-1&&(i=e.length),e.slice(s,i)}else{for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!r){s=o+1;break}}else i===-1&&(r=!1,i=o+1);return i===-1?"":e.slice(s,i)}},extname:function(e){ve(e);for(var t=-1,s=0,i=-1,r=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!r){s=a+1;break}continue}i===-1&&(r=!1,i=a+1),c===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1)}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===s+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Nf("/",e)},parse:function(e){ve(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var s=e.charCodeAt(0),i=s===47,r;i?(t.root="/",r=1):r=0;for(var o=-1,a=0,c=-1,d=!0,m=e.length-1,p=0;m>=r;--m){if(s=e.charCodeAt(m),s===47){if(!d){a=m+1;break}continue}c===-1&&(d=!1,c=m+1),s===46?o===-1?o=m:p!==1&&(p=1):o!==-1&&(p=-1)}return o===-1||c===-1||p===0||p===1&&o===c-1&&o===a+1?c!==-1&&(a===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(a,c)):(a===0&&i?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(a,o),t.base=e.slice(a,c)),t.ext=e.slice(o,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};st.posix=st;Zo.exports=st});var Un=R(ta=>{function Fs(){this.waiters=[]}Fs.prototype.wait=function(n){var e=this,t={};this.waiters.push(t);var s=new Promise(function(i){var r=!1;t.resolve=function(o){if(!r){if(r=!0,t.timeout&&(clearTimeout(t.timeout),t.timeout=null),!o){var a=e.waiters.indexOf(t);a>-1&&e.waiters.splice(a,1)}i()}}});return n>0&&isFinite(n)&&(t.timeout=setTimeout(function(){t.timeout=null,t.resolve()},n)),s};Fs.prototype.notify=function(){this.waiters.length>0&&this.waiters.pop().resolve(!0)};Fs.prototype.notifyAll=function(){for(var n=this.waiters.length-1;n>=0;n--)this.waiters[n].resolve(!0);this.waiters=[]};ta.Subject=Fs});var Kn=R((js,sa)=>{(function(n,e){typeof js=="object"&&typeof sa<"u"?e(js):typeof define=="function"&&define.amd?define(["exports"],e):e(n.async={})})(js,function(n){"use strict";function e(u,...l){return(...f)=>u(...l,...f)}function t(u){return function(...l){var f=l.pop();return u.call(this,l,f)}}var s=typeof queueMicrotask=="function"&&queueMicrotask,i=typeof setImmediate=="function"&&setImmediate,r=typeof process=="object"&&typeof process.nextTick=="function";function o(u){setTimeout(u,0)}function a(u){return(l,...f)=>u(()=>l(...f))}var c;s?c=queueMicrotask:i?c=setImmediate:r?c=process.nextTick:c=o;var d=a(c);function m(u){return E(u)?function(...l){let f=l.pop(),h=u.apply(this,l);return p(h,f)}:t(function(l,f){var h;try{h=u.apply(this,l)}catch(g){return f(g)}if(h&&typeof h.then=="function")return p(h,f);f(null,h)})}function p(u,l){return u.then(f=>{v(l,null,f)},f=>{v(l,f&&f.message?f:new Error(f))})}function v(u,l,f){try{u(l,f)}catch(h){d(g=>{throw g},h)}}function E(u){return u[Symbol.toStringTag]==="AsyncFunction"}function L(u){return u[Symbol.toStringTag]==="AsyncGenerator"}function A(u){return typeof u[Symbol.asyncIterator]=="function"}function b(u){if(typeof u!="function")throw new Error("expected a function");return E(u)?m(u):u}function k(u,l=u.length){if(!l)throw new Error("arity is undefined");function f(...h){return typeof h[l-1]=="function"?u.apply(this,h):new Promise((g,y)=>{h[l-1]=(S,...w)=>{if(S)return y(S);g(w.length>1?w:w[0])},u.apply(this,h)})}return f}function C(u){return function(f,...h){return k(function(y){var S=this;return u(f,(w,_)=>{b(w).apply(S,h.concat(_))},y)})}}function D(u,l,f,h){l=l||[];var g=[],y=0,S=b(f);return u(l,(w,_,N)=>{var j=y++;S(w,(U,x)=>{g[j]=x,N(U)})},w=>{h(w,g)})}function O(u){return u&&typeof u.length=="number"&&u.length>=0&&u.length%1===0}let B={};function q(u){function l(...f){if(u!==null){var h=u;u=null,h.apply(this,f)}}return Object.assign(l,u),l}function X(u){return u[Symbol.iterator]&&u[Symbol.iterator]()}function $e(u){var l=-1,f=u.length;return function(){return++l<f?{value:u[l],key:l}:null}}function yt(u){var l=-1;return function(){var h=u.next();return h.done?null:(l++,{value:h.value,key:l})}}function le(u){var l=u?Object.keys(u):[],f=-1,h=l.length;return function g(){var y=l[++f];return y==="__proto__"?g():f<h?{value:u[y],key:y}:null}}function pu(u){if(O(u))return $e(u);var l=X(u);return l?yt(l):le(u)}function Le(u){return function(...l){if(u===null)throw new Error("Callback was already called.");var f=u;u=null,f.apply(this,l)}}function gr(u,l,f,h){let g=!1,y=!1,S=!1,w=0,_=0;function N(){w>=l||S||g||(S=!0,u.next().then(({value:x,done:ce})=>{if(!(y||g)){if(S=!1,ce){g=!0,w<=0&&h(null);return}w++,f(x,_,j),_++,N()}}).catch(U))}function j(x,ce){if(w-=1,!y){if(x)return U(x);if(x===!1){g=!0,y=!0;return}if(ce===B||g&&w<=0)return g=!0,h(null);N()}}function U(x){y||(S=!1,g=!0,h(x))}N()}var de=u=>(l,f,h)=>{if(h=q(h),u<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!l)return h(null);if(L(l))return gr(l,u,f,h);if(A(l))return gr(l[Symbol.asyncIterator](),u,f,h);var g=pu(l),y=!1,S=!1,w=0,_=!1;function N(U,x){if(!S)if(w-=1,U)y=!0,h(U);else if(U===!1)y=!0,S=!0;else{if(x===B||y&&w<=0)return y=!0,h(null);_||j()}}function j(){for(_=!0;w<u&&!y;){var U=g();if(U===null){y=!0,w<=0&&h(null);return}w+=1,f(U.value,U.key,Le(N))}_=!1}j()};function mu(u,l,f,h){return de(l)(u,b(f),h)}var He=k(mu,4);function gu(u,l,f){f=q(f);var h=0,g=0,{length:y}=u,S=!1;y===0&&f(null);function w(_,N){_===!1&&(S=!0),S!==!0&&(_?f(_):(++g===y||N===B)&&f(null))}for(;h<y;h++)l(u[h],h,Le(w))}function yu(u,l,f){return He(u,1/0,l,f)}function bu(u,l,f){var h=O(u)?gu:yu;return h(u,b(l),f)}var ie=k(bu,3);function vu(u,l,f){return D(ie,u,l,f)}var rs=k(vu,3),yr=C(rs);function Su(u,l,f){return He(u,1,l,f)}var pe=k(Su,3);function wu(u,l,f){return D(pe,u,l,f)}var Cn=k(wu,3),br=C(Cn);let ze=Symbol("promiseCallback");function Qe(){let u,l;function f(h,...g){if(h)return l(h);u(g.length>1?g:g[0])}return f[ze]=new Promise((h,g)=>{u=h,l=g}),f}function Nn(u,l,f){typeof l!="number"&&(f=l,l=null),f=q(f||Qe());var h=Object.keys(u).length;if(!h)return f(null);l||(l=h);var g={},y=0,S=!1,w=!1,_=Object.create(null),N=[],j=[],U={};Object.keys(u).forEach(I=>{var $=u[I];if(!Array.isArray($)){x(I,[$]),j.push(I);return}var V=$.slice(0,$.length-1),z=V.length;if(z===0){x(I,$),j.push(I);return}U[I]=z,V.forEach(Z=>{if(!u[Z])throw new Error("async.auto task `"+I+"` has a non-existent dependency `"+Z+"` in "+V.join(", "));Xe(Z,()=>{z--,z===0&&x(I,$)})})}),K(),ce();function x(I,$){N.push(()=>kt(I,$))}function ce(){if(!S){if(N.length===0&&y===0)return f(null,g);for(;N.length&&y<l;){var I=N.shift();I()}}}function Xe(I,$){var V=_[I];V||(V=_[I]=[]),V.push($)}function Be(I){var $=_[I]||[];$.forEach(V=>V()),ce()}function kt(I,$){if(!w){var V=Le((Z,...ue)=>{if(y--,Z===!1){S=!0;return}if(ue.length<2&&([ue]=ue),Z){var Ze={};if(Object.keys(g).forEach(Fe=>{Ze[Fe]=g[Fe]}),Ze[I]=ue,w=!0,_=Object.create(null),S)return;f(Z,Ze)}else g[I]=ue,Be(I)});y++;var z=b($[$.length-1]);$.length>1?z(g,V):z(V)}}function K(){for(var I,$=0;j.length;)I=j.pop(),$++,M(I).forEach(V=>{--U[V]===0&&j.push(V)});if($!==h)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function M(I){var $=[];return Object.keys(u).forEach(V=>{let z=u[V];Array.isArray(z)&&z.indexOf(I)>=0&&$.push(V)}),$}return f[ze]}var Eu=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,ku=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,Au=/,/,_u=/(=.+)?(\s*)$/;function Lu(u){let l="",f=0,h=u.indexOf("*/");for(;f<u.length;)if(u[f]==="/"&&u[f+1]==="/"){let g=u.indexOf(`
`,f);f=g===-1?u.length:g}else if(h!==-1&&u[f]==="/"&&u[f+1]==="*"){let g=u.indexOf("*/",f);g!==-1?(f=g+2,h=u.indexOf("*/",f)):(l+=u[f],f++)}else l+=u[f],f++;return l}function Ru(u){let l=Lu(u.toString()),f=l.match(Eu);if(f||(f=l.match(ku)),!f)throw new Error(`could not parse args in autoInject
Source:
`+l);let[,h]=f;return h.replace(/\s/g,"").split(Au).map(g=>g.replace(_u,"").trim())}function vr(u,l){var f={};return Object.keys(u).forEach(h=>{var g=u[h],y,S=E(g),w=!S&&g.length===1||S&&g.length===0;if(Array.isArray(g))y=[...g],g=y.pop(),f[h]=y.concat(y.length>0?_:g);else if(w)f[h]=g;else{if(y=Ru(g),g.length===0&&!S&&y.length===0)throw new Error("autoInject task functions require explicit parameters.");S||y.pop(),f[h]=y.concat(_)}function _(N,j){var U=y.map(x=>N[x]);U.push(j),b(g)(...U)}}),Nn(f,l)}class Ou{constructor(){this.head=this.tail=null,this.length=0}removeLink(l){return l.prev?l.prev.next=l.next:this.head=l.next,l.next?l.next.prev=l.prev:this.tail=l.prev,l.prev=l.next=null,this.length-=1,l}empty(){for(;this.head;)this.shift();return this}insertAfter(l,f){f.prev=l,f.next=l.next,l.next?l.next.prev=f:this.tail=f,l.next=f,this.length+=1}insertBefore(l,f){f.prev=l.prev,f.next=l,l.prev?l.prev.next=f:this.head=f,l.prev=f,this.length+=1}unshift(l){this.head?this.insertBefore(this.head,l):Sr(this,l)}push(l){this.tail?this.insertAfter(this.tail,l):Sr(this,l)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var l=this.head;l;)yield l.data,l=l.next}remove(l){for(var f=this.head;f;){var{next:h}=f;l(f)&&this.removeLink(f),f=h}return this}}function Sr(u,l){u.length=1,u.head=u.tail=l}function Pn(u,l,f){if(l==null)l=1;else if(l===0)throw new RangeError("Concurrency must not be zero");var h=b(u),g=0,y=[];let S={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function w(M,I){S[M].push(I)}function _(M,I){let $=(...V)=>{N(M,$),I(...V)};S[M].push($)}function N(M,I){if(!M)return Object.keys(S).forEach($=>S[$]=[]);if(!I)return S[M]=[];S[M]=S[M].filter($=>$!==I)}function j(M,...I){S[M].forEach($=>$(...I))}var U=!1;function x(M,I,$,V){if(V!=null&&typeof V!="function")throw new Error("task callback must be a function");K.started=!0;var z,Z;function ue(Fe,...At){if(Fe)return $?Z(Fe):z();if(At.length<=1)return z(At[0]);z(At)}var Ze=K._createTaskItem(M,$?ue:V||ue);if(I?K._tasks.unshift(Ze):K._tasks.push(Ze),U||(U=!0,d(()=>{U=!1,K.process()})),$||!V)return new Promise((Fe,At)=>{z=Fe,Z=At})}function ce(M){return function(I,...$){g-=1;for(var V=0,z=M.length;V<z;V++){var Z=M[V],ue=y.indexOf(Z);ue===0?y.shift():ue>0&&y.splice(ue,1),Z.callback(I,...$),I!=null&&j("error",I,Z.data)}g<=K.concurrency-K.buffer&&j("unsaturated"),K.idle()&&j("drain"),K.process()}}function Xe(M){return M.length===0&&K.idle()?(d(()=>j("drain")),!0):!1}let Be=M=>I=>{if(!I)return new Promise(($,V)=>{_(M,(z,Z)=>{if(z)return V(z);$(Z)})});N(M),w(M,I)};var kt=!1,K={_tasks:new Ou,_createTaskItem(M,I){return{data:M,callback:I}},*[Symbol.iterator](){yield*K._tasks[Symbol.iterator]()},concurrency:l,payload:f,buffer:l/4,started:!1,paused:!1,push(M,I){return Array.isArray(M)?Xe(M)?void 0:M.map($=>x($,!1,!1,I)):x(M,!1,!1,I)},pushAsync(M,I){return Array.isArray(M)?Xe(M)?void 0:M.map($=>x($,!1,!0,I)):x(M,!1,!0,I)},kill(){N(),K._tasks.empty()},unshift(M,I){return Array.isArray(M)?Xe(M)?void 0:M.map($=>x($,!0,!1,I)):x(M,!0,!1,I)},unshiftAsync(M,I){return Array.isArray(M)?Xe(M)?void 0:M.map($=>x($,!0,!0,I)):x(M,!0,!0,I)},remove(M){K._tasks.remove(M)},process(){if(!kt){for(kt=!0;!K.paused&&g<K.concurrency&&K._tasks.length;){var M=[],I=[],$=K._tasks.length;K.payload&&($=Math.min($,K.payload));for(var V=0;V<$;V++){var z=K._tasks.shift();M.push(z),y.push(z),I.push(z.data)}g+=1,K._tasks.length===0&&j("empty"),g===K.concurrency&&j("saturated");var Z=Le(ce(M));h(I,Z)}kt=!1}},length(){return K._tasks.length},running(){return g},workersList(){return y},idle(){return K._tasks.length+g===0},pause(){K.paused=!0},resume(){K.paused!==!1&&(K.paused=!1,d(K.process))}};return Object.defineProperties(K,{saturated:{writable:!1,value:Be("saturated")},unsaturated:{writable:!1,value:Be("unsaturated")},empty:{writable:!1,value:Be("empty")},drain:{writable:!1,value:Be("drain")},error:{writable:!1,value:Be("error")}}),K}function wr(u,l){return Pn(u,1,l)}function Er(u,l,f){return Pn(u,l,f)}function qu(u,l,f,h){h=q(h);var g=b(f);return pe(u,(y,S,w)=>{g(l,y,(_,N)=>{l=N,w(_)})},y=>h(y,l))}var Re=k(qu,4);function Dn(...u){var l=u.map(b);return function(...f){var h=this,g=f[f.length-1];return typeof g=="function"?f.pop():g=Qe(),Re(l,f,(y,S,w)=>{S.apply(h,y.concat((_,...N)=>{w(_,N)}))},(y,S)=>g(y,...S)),g[ze]}}function kr(...u){return Dn(...u.reverse())}function Tu(u,l,f,h){return D(de(l),u,f,h)}var bt=k(Tu,4);function Iu(u,l,f,h){var g=b(f);return bt(u,l,(y,S)=>{g(y,(w,..._)=>w?S(w):S(w,_))},(y,S)=>{for(var w=[],_=0;_<S.length;_++)S[_]&&(w=w.concat(...S[_]));return h(y,w)})}var Ge=k(Iu,4);function Cu(u,l,f){return Ge(u,1/0,l,f)}var os=k(Cu,3);function Nu(u,l,f){return Ge(u,1,l,f)}var as=k(Nu,3);function Ar(...u){return function(...l){var f=l.pop();return f(null,...u)}}function Ae(u,l){return(f,h,g,y)=>{var S=!1,w;let _=b(g);f(h,(N,j,U)=>{_(N,(x,ce)=>{if(x||x===!1)return U(x);if(u(ce)&&!w)return S=!0,w=l(!0,N),U(null,B);U()})},N=>{if(N)return y(N);y(null,S?w:l(!1))})}}function Pu(u,l,f){return Ae(h=>h,(h,g)=>g)(ie,u,l,f)}var ls=k(Pu,3);function Du(u,l,f,h){return Ae(g=>g,(g,y)=>y)(de(l),u,f,h)}var cs=k(Du,4);function Mu(u,l,f){return Ae(h=>h,(h,g)=>g)(de(1),u,l,f)}var us=k(Mu,3);function _r(u){return(l,...f)=>b(l)(...f,(h,...g)=>{typeof console=="object"&&(h?console.error&&console.error(h):console[u]&&g.forEach(y=>console[u](y)))})}var Lr=_r("dir");function $u(u,l,f){f=Le(f);var h=b(u),g=b(l),y;function S(_,...N){if(_)return f(_);_!==!1&&(y=N,g(...N,w))}function w(_,N){if(_)return f(_);if(_!==!1){if(!N)return f(null,...y);h(S)}}return w(null,!0)}var vt=k($u,3);function Rr(u,l,f){let h=b(l);return vt(u,(...g)=>{let y=g.pop();h(...g,(S,w)=>y(S,!w))},f)}function Or(u){return(l,f,h)=>u(l,h)}function Bu(u,l,f){return ie(u,Or(b(l)),f)}var fs=k(Bu,3);function Fu(u,l,f,h){return de(l)(u,Or(b(f)),h)}var St=k(Fu,4);function ju(u,l,f){return St(u,1,l,f)}var wt=k(ju,3);function Mn(u){return E(u)?u:function(...l){var f=l.pop(),h=!0;l.push((...g)=>{h?d(()=>f(...g)):f(...g)}),u.apply(this,l),h=!1}}function xu(u,l,f){return Ae(h=>!h,h=>!h)(ie,u,l,f)}var hs=k(xu,3);function Vu(u,l,f,h){return Ae(g=>!g,g=>!g)(de(l),u,f,h)}var ds=k(Vu,4);function Uu(u,l,f){return Ae(h=>!h,h=>!h)(pe,u,l,f)}var ps=k(Uu,3);function Ku(u,l,f,h){var g=new Array(l.length);u(l,(y,S,w)=>{f(y,(_,N)=>{g[S]=!!N,w(_)})},y=>{if(y)return h(y);for(var S=[],w=0;w<l.length;w++)g[w]&&S.push(l[w]);h(null,S)})}function Yu(u,l,f,h){var g=[];u(l,(y,S,w)=>{f(y,(_,N)=>{if(_)return w(_);N&&g.push({index:S,value:y}),w(_)})},y=>{if(y)return h(y);h(null,g.sort((S,w)=>S.index-w.index).map(S=>S.value))})}function ms(u,l,f,h){var g=O(l)?Ku:Yu;return g(u,l,b(f),h)}function Wu(u,l,f){return ms(ie,u,l,f)}var gs=k(Wu,3);function Ju(u,l,f,h){return ms(de(l),u,f,h)}var ys=k(Ju,4);function Hu(u,l,f){return ms(pe,u,l,f)}var bs=k(Hu,3);function zu(u,l){var f=Le(l),h=b(Mn(u));function g(y){if(y)return f(y);y!==!1&&h(g)}return g()}var qr=k(zu,2);function Qu(u,l,f,h){var g=b(f);return bt(u,l,(y,S)=>{g(y,(w,_)=>w?S(w):S(w,{key:_,val:y}))},(y,S)=>{for(var w={},{hasOwnProperty:_}=Object.prototype,N=0;N<S.length;N++)if(S[N]){var{key:j}=S[N],{val:U}=S[N];_.call(w,j)?w[j].push(U):w[j]=[U]}return h(y,w)})}var vs=k(Qu,4);function Tr(u,l,f){return vs(u,1/0,l,f)}function Ir(u,l,f){return vs(u,1,l,f)}var Cr=_r("log");function Gu(u,l,f,h){h=q(h);var g={},y=b(f);return de(l)(u,(S,w,_)=>{y(S,w,(N,j)=>{if(N)return _(N);g[w]=j,_(N)})},S=>h(S,g))}var Ss=k(Gu,4);function Nr(u,l,f){return Ss(u,1/0,l,f)}function Pr(u,l,f){return Ss(u,1,l,f)}function Dr(u,l=f=>f){var f=Object.create(null),h=Object.create(null),g=b(u),y=t((S,w)=>{var _=l(...S);_ in f?d(()=>w(null,...f[_])):_ in h?h[_].push(w):(h[_]=[w],g(...S,(N,...j)=>{N||(f[_]=j);var U=h[_];delete h[_];for(var x=0,ce=U.length;x<ce;x++)U[x](N,...j)}))});return y.memo=f,y.unmemoized=u,y}var ws;r?ws=process.nextTick:i?ws=setImmediate:ws=o;var Mr=a(ws),$n=k((u,l,f)=>{var h=O(l)?[]:{};u(l,(g,y,S)=>{b(g)((w,..._)=>{_.length<2&&([_]=_),h[y]=_,S(w)})},g=>f(g,h))},3);function $r(u,l){return $n(ie,u,l)}function Br(u,l,f){return $n(de(l),u,f)}function Bn(u,l){var f=b(u);return Pn((h,g)=>{f(h[0],g)},l,1)}class Xu{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(l){let f;for(;l>0&&Fn(this.heap[l],this.heap[f=Fr(l)]);){let h=this.heap[l];this.heap[l]=this.heap[f],this.heap[f]=h,l=f}}percDown(l){let f;for(;(f=Zu(l))<this.heap.length&&(f+1<this.heap.length&&Fn(this.heap[f+1],this.heap[f])&&(f=f+1),!Fn(this.heap[l],this.heap[f]));){let h=this.heap[l];this.heap[l]=this.heap[f],this.heap[f]=h,l=f}}push(l){l.pushCount=++this.pushCount,this.heap.push(l),this.percUp(this.heap.length-1)}unshift(l){return this.heap.push(l)}shift(){let[l]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),l}toArray(){return[...this]}*[Symbol.iterator](){for(let l=0;l<this.heap.length;l++)yield this.heap[l].data}remove(l){let f=0;for(let h=0;h<this.heap.length;h++)l(this.heap[h])||(this.heap[f]=this.heap[h],f++);this.heap.splice(f);for(let h=Fr(this.heap.length-1);h>=0;h--)this.percDown(h);return this}}function Zu(u){return(u<<1)+1}function Fr(u){return(u+1>>1)-1}function Fn(u,l){return u.priority!==l.priority?u.priority<l.priority:u.pushCount<l.pushCount}function jr(u,l){var f=Bn(u,l),{push:h,pushAsync:g}=f;f._tasks=new Xu,f._createTaskItem=({data:S,priority:w},_)=>({data:S,priority:w,callback:_});function y(S,w){return Array.isArray(S)?S.map(_=>({data:_,priority:w})):{data:S,priority:w}}return f.push=function(S,w=0,_){return h(y(S,w),_)},f.pushAsync=function(S,w=0,_){return g(y(S,w),_)},delete f.unshift,delete f.unshiftAsync,f}function ef(u,l){if(l=q(l),!Array.isArray(u))return l(new TypeError("First argument to race must be an array of functions"));if(!u.length)return l();for(var f=0,h=u.length;f<h;f++)b(u[f])(l)}var xr=k(ef,2);function Es(u,l,f,h){var g=[...u].reverse();return Re(g,l,f,h)}function ks(u){var l=b(u);return t(function(h,g){return h.push((y,...S)=>{let w={};if(y&&(w.error=y),S.length>0){var _=S;S.length<=1&&([_]=S),w.value=_}g(null,w)}),l.apply(this,h)})}function Vr(u){var l;return Array.isArray(u)?l=u.map(ks):(l={},Object.keys(u).forEach(f=>{l[f]=ks.call(this,u[f])})),l}function jn(u,l,f,h){let g=b(f);return ms(u,l,(y,S)=>{g(y,(w,_)=>{S(w,!_)})},h)}function tf(u,l,f){return jn(ie,u,l,f)}var Ur=k(tf,3);function sf(u,l,f,h){return jn(de(l),u,f,h)}var Kr=k(sf,4);function nf(u,l,f){return jn(pe,u,l,f)}var Yr=k(nf,3);function Wr(u){return function(){return u}}let xn=5,Jr=0;function As(u,l,f){var h={times:xn,intervalFunc:Wr(Jr)};if(arguments.length<3&&typeof u=="function"?(f=l||Qe(),l=u):(rf(h,u),f=f||Qe()),typeof l!="function")throw new Error("Invalid arguments for async.retry");var g=b(l),y=1;function S(){g((w,..._)=>{w!==!1&&(w&&y++<h.times&&(typeof h.errorFilter!="function"||h.errorFilter(w))?setTimeout(S,h.intervalFunc(y-1)):f(w,..._))})}return S(),f[ze]}function rf(u,l){if(typeof l=="object")u.times=+l.times||xn,u.intervalFunc=typeof l.interval=="function"?l.interval:Wr(+l.interval||Jr),u.errorFilter=l.errorFilter;else if(typeof l=="number"||typeof l=="string")u.times=+l||xn;else throw new Error("Invalid arguments for async.retry")}function Hr(u,l){l||(l=u,u=null);let f=u&&u.arity||l.length;E(l)&&(f+=1);var h=b(l);return t((g,y)=>{(g.length<f-1||y==null)&&(g.push(y),y=Qe());function S(w){h(...g,w)}return u?As(u,S,y):As(S,y),y[ze]})}function zr(u,l){return $n(pe,u,l)}function of(u,l,f){return Ae(Boolean,h=>h)(ie,u,l,f)}var _s=k(of,3);function af(u,l,f,h){return Ae(Boolean,g=>g)(de(l),u,f,h)}var Ls=k(af,4);function lf(u,l,f){return Ae(Boolean,h=>h)(pe,u,l,f)}var Rs=k(lf,3);function cf(u,l,f){var h=b(l);return rs(u,(y,S)=>{h(y,(w,_)=>{if(w)return S(w);S(w,{value:y,criteria:_})})},(y,S)=>{if(y)return f(y);f(null,S.sort(g).map(w=>w.value))});function g(y,S){var w=y.criteria,_=S.criteria;return w<_?-1:w>_?1:0}}var Qr=k(cf,3);function Gr(u,l,f){var h=b(u);return t((g,y)=>{var S=!1,w;function _(){var N=u.name||"anonymous",j=new Error('Callback function "'+N+'" timed out.');j.code="ETIMEDOUT",f&&(j.info=f),S=!0,y(j)}g.push((...N)=>{S||(y(...N),clearTimeout(w))}),w=setTimeout(_,l),h(...g)})}function uf(u){for(var l=Array(u);u--;)l[u]=u;return l}function Os(u,l,f,h){var g=b(f);return bt(uf(u),l,g,h)}function Xr(u,l,f){return Os(u,1/0,l,f)}function Zr(u,l,f){return Os(u,1,l,f)}function eo(u,l,f,h){arguments.length<=3&&typeof l=="function"&&(h=f,f=l,l=Array.isArray(u)?[]:{}),h=q(h||Qe());var g=b(f);return ie(u,(y,S,w)=>{g(l,y,S,w)},y=>h(y,l)),h[ze]}function ff(u,l){var f=null,h;return wt(u,(g,y)=>{b(g)((S,...w)=>{if(S===!1)return y(S);w.length<2?[h]=w:h=w,f=S,y(S?null:{})})},()=>l(f,h))}var to=k(ff);function so(u){return(...l)=>(u.unmemoized||u)(...l)}function hf(u,l,f){f=Le(f);var h=b(l),g=b(u),y=[];function S(_,...N){if(_)return f(_);y=N,_!==!1&&g(w)}function w(_,N){if(_)return f(_);if(_!==!1){if(!N)return f(null,...y);h(S)}}return g(w)}var Et=k(hf,3);function no(u,l,f){let h=b(u);return Et(g=>h((y,S)=>g(y,!S)),l,f)}function df(u,l){if(l=q(l),!Array.isArray(u))return l(new Error("First argument to waterfall must be an array of functions"));if(!u.length)return l();var f=0;function h(y){var S=b(u[f++]);S(...y,Le(g))}function g(y,...S){if(y!==!1){if(y||f===u.length)return l(y,...S);h(S)}}h([])}var io=k(df),pf={apply:e,applyEach:yr,applyEachSeries:br,asyncify:m,auto:Nn,autoInject:vr,cargo:wr,cargoQueue:Er,compose:kr,concat:os,concatLimit:Ge,concatSeries:as,constant:Ar,detect:ls,detectLimit:cs,detectSeries:us,dir:Lr,doUntil:Rr,doWhilst:vt,each:fs,eachLimit:St,eachOf:ie,eachOfLimit:He,eachOfSeries:pe,eachSeries:wt,ensureAsync:Mn,every:hs,everyLimit:ds,everySeries:ps,filter:gs,filterLimit:ys,filterSeries:bs,forever:qr,groupBy:Tr,groupByLimit:vs,groupBySeries:Ir,log:Cr,map:rs,mapLimit:bt,mapSeries:Cn,mapValues:Nr,mapValuesLimit:Ss,mapValuesSeries:Pr,memoize:Dr,nextTick:Mr,parallel:$r,parallelLimit:Br,priorityQueue:jr,queue:Bn,race:xr,reduce:Re,reduceRight:Es,reflect:ks,reflectAll:Vr,reject:Ur,rejectLimit:Kr,rejectSeries:Yr,retry:As,retryable:Hr,seq:Dn,series:zr,setImmediate:d,some:_s,someLimit:Ls,someSeries:Rs,sortBy:Qr,timeout:Gr,times:Xr,timesLimit:Os,timesSeries:Zr,transform:eo,tryEach:to,unmemoize:so,until:no,waterfall:io,whilst:Et,all:hs,allLimit:ds,allSeries:ps,any:_s,anyLimit:Ls,anySeries:Rs,find:ls,findLimit:cs,findSeries:us,flatMap:os,flatMapLimit:Ge,flatMapSeries:as,forEach:fs,forEachSeries:wt,forEachLimit:St,forEachOf:ie,forEachOfSeries:pe,forEachOfLimit:He,inject:Re,foldl:Re,foldr:Es,select:gs,selectLimit:ys,selectSeries:bs,wrapSync:m,during:Et,doDuring:vt};n.default=pf,n.apply=e,n.applyEach=yr,n.applyEachSeries=br,n.asyncify=m,n.auto=Nn,n.autoInject=vr,n.cargo=wr,n.cargoQueue=Er,n.compose=kr,n.concat=os,n.concatLimit=Ge,n.concatSeries=as,n.constant=Ar,n.detect=ls,n.detectLimit=cs,n.detectSeries=us,n.dir=Lr,n.doUntil=Rr,n.doWhilst=vt,n.each=fs,n.eachLimit=St,n.eachOf=ie,n.eachOfLimit=He,n.eachOfSeries=pe,n.eachSeries=wt,n.ensureAsync=Mn,n.every=hs,n.everyLimit=ds,n.everySeries=ps,n.filter=gs,n.filterLimit=ys,n.filterSeries=bs,n.forever=qr,n.groupBy=Tr,n.groupByLimit=vs,n.groupBySeries=Ir,n.log=Cr,n.map=rs,n.mapLimit=bt,n.mapSeries=Cn,n.mapValues=Nr,n.mapValuesLimit=Ss,n.mapValuesSeries=Pr,n.memoize=Dr,n.nextTick=Mr,n.parallel=$r,n.parallelLimit=Br,n.priorityQueue=jr,n.queue=Bn,n.race=xr,n.reduce=Re,n.reduceRight=Es,n.reflect=ks,n.reflectAll=Vr,n.reject=Ur,n.rejectLimit=Kr,n.rejectSeries=Yr,n.retry=As,n.retryable=Hr,n.seq=Dn,n.series=zr,n.setImmediate=d,n.some=_s,n.someLimit=Ls,n.someSeries=Rs,n.sortBy=Qr,n.timeout=Gr,n.times=Xr,n.timesLimit=Os,n.timesSeries=Zr,n.transform=eo,n.tryEach=to,n.unmemoize=so,n.until=no,n.waterfall=io,n.whilst=Et,n.all=hs,n.allLimit=ds,n.allSeries=ps,n.any=_s,n.anyLimit=Ls,n.anySeries=Rs,n.find=ls,n.findLimit=cs,n.findSeries=us,n.flatMap=os,n.flatMapLimit=Ge,n.flatMapSeries=as,n.forEach=fs,n.forEachSeries=wt,n.forEachLimit=St,n.forEachOf=ie,n.forEachOfSeries=pe,n.forEachOfLimit=He,n.inject=Re,n.foldl=Re,n.foldr=Es,n.select=gs,n.selectLimit=ys,n.selectSeries=bs,n.wrapSync=m,n.during=Et,n.doDuring=vt,Object.defineProperty(n,"__esModule",{value:!0})})});var Y=R(ee=>{"use strict";var Jn=Symbol.for("yaml.alias"),aa=Symbol.for("yaml.document"),xs=Symbol.for("yaml.map"),la=Symbol.for("yaml.pair"),Hn=Symbol.for("yaml.scalar"),Vs=Symbol.for("yaml.seq"),we=Symbol.for("yaml.node.type"),$f=n=>!!n&&typeof n=="object"&&n[we]===Jn,Bf=n=>!!n&&typeof n=="object"&&n[we]===aa,Ff=n=>!!n&&typeof n=="object"&&n[we]===xs,jf=n=>!!n&&typeof n=="object"&&n[we]===la,ca=n=>!!n&&typeof n=="object"&&n[we]===Hn,xf=n=>!!n&&typeof n=="object"&&n[we]===Vs;function ua(n){if(n&&typeof n=="object")switch(n[we]){case xs:case Vs:return!0}return!1}function Vf(n){if(n&&typeof n=="object")switch(n[we]){case Jn:case xs:case Hn:case Vs:return!0}return!1}var Uf=n=>(ca(n)||ua(n))&&!!n.anchor,fa=class{constructor(e){Object.defineProperty(this,we,{value:e})}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}};ee.ALIAS=Jn;ee.DOC=aa;ee.MAP=xs;ee.NODE_TYPE=we;ee.NodeBase=fa;ee.PAIR=la;ee.SCALAR=Hn;ee.SEQ=Vs;ee.hasAnchor=Uf;ee.isAlias=$f;ee.isCollection=ua;ee.isDocument=Bf;ee.isMap=Ff;ee.isNode=Vf;ee.isPair=jf;ee.isScalar=ca;ee.isSeq=xf});var Ot=R(zn=>{"use strict";var G=Y(),se=Symbol("break visit"),ha=Symbol("skip children"),Ee=Symbol("remove node");function Us(n,e){let t=da(e);G.isDocument(n)?nt(null,n.contents,t,Object.freeze([n]))===Ee&&(n.contents=null):nt(null,n,t,Object.freeze([]))}Us.BREAK=se;Us.SKIP=ha;Us.REMOVE=Ee;function nt(n,e,t,s){let i=pa(n,e,t,s);if(G.isNode(i)||G.isPair(i))return ma(n,s,i),nt(n,i,t,s);if(typeof i!="symbol"){if(G.isCollection(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){let o=nt(r,e.items[r],t,s);if(typeof o=="number")r=o-1;else{if(o===se)return se;o===Ee&&(e.items.splice(r,1),r-=1)}}}else if(G.isPair(e)){s=Object.freeze(s.concat(e));let r=nt("key",e.key,t,s);if(r===se)return se;r===Ee&&(e.key=null);let o=nt("value",e.value,t,s);if(o===se)return se;o===Ee&&(e.value=null)}}return i}async function Ks(n,e){let t=da(e);G.isDocument(n)?await it(null,n.contents,t,Object.freeze([n]))===Ee&&(n.contents=null):await it(null,n,t,Object.freeze([]))}Ks.BREAK=se;Ks.SKIP=ha;Ks.REMOVE=Ee;async function it(n,e,t,s){let i=await pa(n,e,t,s);if(G.isNode(i)||G.isPair(i))return ma(n,s,i),it(n,i,t,s);if(typeof i!="symbol"){if(G.isCollection(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){let o=await it(r,e.items[r],t,s);if(typeof o=="number")r=o-1;else{if(o===se)return se;o===Ee&&(e.items.splice(r,1),r-=1)}}}else if(G.isPair(e)){s=Object.freeze(s.concat(e));let r=await it("key",e.key,t,s);if(r===se)return se;r===Ee&&(e.key=null);let o=await it("value",e.value,t,s);if(o===se)return se;o===Ee&&(e.value=null)}}return i}function da(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function pa(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(G.isMap(e))return t.Map?.(n,e,s);if(G.isSeq(e))return t.Seq?.(n,e,s);if(G.isPair(e))return t.Pair?.(n,e,s);if(G.isScalar(e))return t.Scalar?.(n,e,s);if(G.isAlias(e))return t.Alias?.(n,e,s)}function ma(n,e,t){let s=e[e.length-1];if(G.isCollection(s))s.items[n]=t;else if(G.isPair(s))n==="key"?s.key=t:s.value=t;else if(G.isDocument(s))s.contents=t;else{let i=G.isAlias(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}zn.visit=Us;zn.visitAsync=Ks});var Qn=R(ya=>{"use strict";var ga=Y(),Kf=Ot(),Yf={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Wf=n=>n.replace(/[!,[\]{}]/g,e=>Yf[e]),ae=class{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},ae.defaultYaml,e),this.tags=Object.assign({},ae.defaultTags,t)}clone(){let e=new ae(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new ae(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:ae.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},ae.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:ae.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},ae.defaultTags),this.atNextDocument=!1);let s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;let[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;let[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{let o=/^\d+\.\d+$/.test(r);return t(6,`Unsupported YAML version ${r}`,o),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return"!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}let[,s,i]=e.match(/^(.*!)([^!]*)$/);i||t(`The ${e} tag has no suffix`);let r=this.tags[s];return r?r+decodeURIComponent(i):s==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,s]of Object.entries(this.tags))if(e.startsWith(s))return t+Wf(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags),i;if(e&&s.length>0&&ga.isNode(e.contents)){let r={};Kf.visit(e.contents,(o,a)=>{ga.isNode(a)&&a.tag&&(r[a.tag]=!0)}),i=Object.keys(r)}else i=[];for(let[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&t.push(`%TAG ${r} ${o}`);return t.join(`
`)}};ae.defaultYaml={explicit:!1,version:"1.2"};ae.defaultTags={"!!":"tag:yaml.org,2002:"};ya.Directives=ae});var Ys=R(qt=>{"use strict";var ba=Y(),Jf=Ot();function Hf(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){let t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function va(n){let e=new Set;return Jf.visit(n,{Value(t,s){s.anchor&&e.add(s.anchor)}}),e}function Sa(n,e){for(let t=1;;++t){let s=`${n}${t}`;if(!e.has(s))return s}}function zf(n,e){let t=[],s=new Map,i=null;return{onAnchor:r=>{t.push(r),i||(i=va(n));let o=Sa(e,i);return i.add(o),o},setAnchors:()=>{for(let r of t){let o=s.get(r);if(typeof o=="object"&&o.anchor&&(ba.isScalar(o.node)||ba.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=r,a}}},sourceObjects:s}}qt.anchorIsValid=Hf;qt.anchorNames=va;qt.createNodeAnchors=zf;qt.findNewAnchor=Sa});var It=R(ka=>{"use strict";var Qf=Ys(),wa=Ot(),Tt=Y(),Ea=class extends Tt.NodeBase{constructor(e){super(Tt.ALIAS);this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let t;return wa.visit(e,{Node:(s,i)=>{if(i===this)return wa.visit.BREAK;i.anchor===this.source&&(t=i)}}),t}toJSON(e,t){if(!t)return{source:this.source};let{anchors:s,doc:i,maxAliasCount:r}=t,o=this.resolve(i);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=s.get(o);if(!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(r>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=Ws(i,o,s)),a.count*a.aliasCount>r)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,t,s){let i=`*${this.source}`;if(e){if(Qf.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}};function Ws(n,e,t){if(Tt.isAlias(e)){let s=e.resolve(n),i=t&&s&&t.get(s);return i?i.count*i.aliasCount:0}else if(Tt.isCollection(e)){let s=0;for(let i of e.items){let r=Ws(n,i,t);r>s&&(s=r)}return s}else if(Tt.isPair(e)){let s=Ws(n,e.key,t),i=Ws(n,e.value,t);return Math.max(s,i)}return 1}ka.Alias=Ea});var rt=R(_a=>{"use strict";var Gf=Y();function Aa(n,e,t){if(Array.isArray(n))return n.map((s,i)=>Aa(s,String(i),t));if(n&&typeof n.toJSON=="function"){if(!t||!Gf.hasAnchor(n))return n.toJSON(e,t);let s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=r=>{s.res=r,delete t.onCreate};let i=n.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof n=="bigint"&&!t?.keep?Number(n):n}_a.toJS=Aa});var Q=R(Gn=>{"use strict";var La=Y(),Xf=rt(),Zf=n=>!n||typeof n!="function"&&typeof n!="object",Ve=class extends La.NodeBase{constructor(e){super(La.SCALAR);this.value=e}toJSON(e,t){return t?.keep?this.value:Xf.toJS(this.value,e,t)}toString(){return String(this.value)}};Ve.BLOCK_FOLDED="BLOCK_FOLDED";Ve.BLOCK_LITERAL="BLOCK_LITERAL";Ve.PLAIN="PLAIN";Ve.QUOTE_DOUBLE="QUOTE_DOUBLE";Ve.QUOTE_SINGLE="QUOTE_SINGLE";Gn.Scalar=Ve;Gn.isScalarValue=Zf});var Ct=R(Oa=>{"use strict";var eh=It(),Ue=Y(),Ra=Q(),th="tag:yaml.org,2002:";function sh(n,e,t){if(e){let s=t.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(s=>s.identify?.(n)&&!s.format)}function nh(n,e,t){if(Ue.isDocument(n)&&(n=n.contents),Ue.isNode(n))return n;if(Ue.isPair(n)){let p=t.schema[Ue.MAP].createNode?.(t.schema,null,t);return p.items.push(n),p}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());let{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:a}=t,c;if(s&&n&&typeof n=="object"){if(c=a.get(n),c)return c.anchor||(c.anchor=i(n)),new eh.Alias(c.anchor);c={anchor:null,node:null},a.set(n,c)}e?.startsWith("!!")&&(e=th+e.slice(2));let d=sh(n,e,o.tags);if(!d){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){let p=new Ra.Scalar(n);return c&&(c.node=p),p}d=n instanceof Map?o[Ue.MAP]:Symbol.iterator in Object(n)?o[Ue.SEQ]:o[Ue.MAP]}r&&(r(d),delete t.onTagObj);let m=d?.createNode?d.createNode(t.schema,n,t):new Ra.Scalar(n);return e&&(m.tag=e),c&&(c.node=m),m}Oa.createNode=nh});var Nt=R(Js=>{"use strict";var ih=Ct(),me=Y();function Xn(n,e,t){let s=t;for(let i=e.length-1;i>=0;--i){let r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){let o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return ih.createNode(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}var qa=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done,Zn=class extends me.NodeBase{constructor(e,t){super(e);Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>me.isNode(s)||me.isPair(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(qa(e))this.add(t);else{let[s,...i]=e,r=this.get(s,!0);if(me.isCollection(r))r.addIn(i,t);else if(r===void 0&&this.schema)this.set(s,Xn(this.schema,i,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){let[t,...s]=e;if(s.length===0)return this.delete(t);let i=this.get(t,!0);if(me.isCollection(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){let[s,...i]=e,r=this.get(s,!0);return i.length===0?!t&&me.isScalar(r)?r.value:r:me.isCollection(r)?r.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!me.isPair(t))return!1;let s=t.value;return s==null||e&&me.isScalar(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){let[t,...s]=e;if(s.length===0)return this.has(t);let i=this.get(t,!0);return me.isCollection(i)?i.hasIn(s):!1}setIn(e,t){let[s,...i]=e;if(i.length===0)this.set(s,t);else{let r=this.get(s,!0);if(me.isCollection(r))r.setIn(i,t);else if(r===void 0&&this.schema)this.set(s,Xn(this.schema,i,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}};Zn.maxFlowStringSingleLineLength=60;Js.Collection=Zn;Js.collectionFromPath=Xn;Js.isEmptyPath=qa});var Pt=R(Hs=>{"use strict";var rh=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function ei(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}var oh=(n,e,t)=>n.endsWith(`
`)?ei(t,e):t.includes(`
`)?`
`+ei(t,e):(n.endsWith(" ")?"":" ")+t;Hs.indentComment=ei;Hs.lineComment=oh;Hs.stringifyComment=rh});var Ia=R(Dt=>{"use strict";var ah="flow",ti="block",zs="quoted";function lh(n,e,t="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return n;let c=Math.max(1+r,1+i-e.length);if(n.length<=c)return n;let d=[],m={},p=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?d.push(0):p=i-s);let v,E,L=!1,A=-1,b=-1,k=-1;t===ti&&(A=Ta(n,A),A!==-1&&(p=A+c));for(let D;D=n[A+=1];){if(t===zs&&D==="\\"){switch(b=A,n[A+1]){case"x":A+=3;break;case"u":A+=5;break;case"U":A+=9;break;default:A+=1}k=A}if(D===`
`)t===ti&&(A=Ta(n,A)),p=A+c,v=void 0;else{if(D===" "&&E&&E!==" "&&E!==`
`&&E!=="	"){let O=n[A+1];O&&O!==" "&&O!==`
`&&O!=="	"&&(v=A)}if(A>=p)if(v)d.push(v),p=v+c,v=void 0;else if(t===zs){for(;E===" "||E==="	";)E=D,D=n[A+=1],L=!0;let O=A>k+1?A-2:b-1;if(m[O])return n;d.push(O),m[O]=!0,p=O+c,v=void 0}else L=!0}E=D}if(L&&a&&a(),d.length===0)return n;o&&o();let C=n.slice(0,d[0]);for(let D=0;D<d.length;++D){let O=d[D],B=d[D+1]||n.length;O===0?C=`
${e}${n.slice(0,B)}`:(t===zs&&m[O]&&(C+=`${n[O]}\\`),C+=`
${e}${n.slice(O+1,B)}`)}return C}function Ta(n,e){let t=n[e+1];for(;t===" "||t==="	";){do t=n[e+=1];while(t&&t!==`
`);t=n[e+1]}return e}Dt.FOLD_BLOCK=ti;Dt.FOLD_FLOW=ah;Dt.FOLD_QUOTED=zs;Dt.foldFlowLines=lh});var Bt=R(Ca=>{"use strict";var ke=Q(),Te=Ia(),Gs=n=>({indentAtStart:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),Xs=n=>/^(%|---|\.\.\.)/m.test(n);function ch(n,e,t){if(!e||e<0)return!1;let s=e-t,i=n.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(n[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function Mt(n,e){let t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;let{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Xs(n)?"  ":""),o="",a=0;for(let c=0,d=t[c];d;d=t[++c])if(d===" "&&t[c+1]==="\\"&&t[c+2]==="n"&&(o+=t.slice(a,c)+"\\ ",c+=1,a=c,d="\\"),d==="\\")switch(t[c+1]){case"u":{o+=t.slice(a,c);let m=t.substr(c+2,4);switch(m){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:m.substr(0,2)==="00"?o+="\\x"+m.substr(2):o+=t.substr(c,6)}c+=5,a=c+1}break;case"n":if(s||t[c+2]==='"'||t.length<i)c+=1;else{for(o+=t.slice(a,c)+`

`;t[c+2]==="\\"&&t[c+3]==="n"&&t[c+4]!=='"';)o+=`
`,c+=2;o+=r,t[c+2]===" "&&(o+="\\"),c+=1,a=c+1}break;default:c+=1}return o=a?o+t.slice(a):t,s?o:Te.foldFlowLines(o,r,Te.FOLD_QUOTED,Gs(e))}function si(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return Mt(n,e);let t=e.indent||(Xs(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?s:Te.foldFlowLines(s,t,Te.FOLD_FLOW,Gs(e))}function $t(n,e){let{singleQuote:t}=e.options,s;if(t===!1)s=Mt;else{let i=n.includes('"'),r=n.includes("'");i&&!r?s=si:r&&!i?s=Mt:s=t?si:Mt}return s(n,e)}function Qs({comment:n,type:e,value:t},s,i,r){let{blockQuote:o,commentString:a,lineWidth:c}=s.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return $t(t,s);let d=s.indent||(s.forceBlockIndent||Xs(t)?"  ":""),m=o==="literal"?!0:o==="folded"||e===ke.Scalar.BLOCK_FOLDED?!1:e===ke.Scalar.BLOCK_LITERAL?!0:!ch(t,c,d.length);if(!t)return m?`|
`:`>
`;let p,v;for(v=t.length;v>0;--v){let q=t[v-1];if(q!==`
`&&q!=="	"&&q!==" ")break}let E=t.substring(v),L=E.indexOf(`
`);L===-1?p="-":t===E||L!==E.length-1?(p="+",r&&r()):p="",E&&(t=t.slice(0,-E.length),E[E.length-1]===`
`&&(E=E.slice(0,-1)),E=E.replace(/\n+(?!\n|$)/g,`$&${d}`));let A=!1,b,k=-1;for(b=0;b<t.length;++b){let q=t[b];if(q===" ")A=!0;else if(q===`
`)k=b;else break}let C=t.substring(0,k<b?k+1:b);C&&(t=t.substring(C.length),C=C.replace(/\n+/g,`$&${d}`));let O=(m?"|":">")+(A?d?"2":"1":"")+p;if(n&&(O+=" "+a(n.replace(/ ?[\r\n]+/g," ")),i&&i()),m)return t=t.replace(/\n+/g,`$&${d}`),`${O}
${d}${C}${t}${E}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${d}`);let B=Te.foldFlowLines(`${C}${t}${E}`,d,Te.FOLD_BLOCK,Gs(s));return`${O}
${d}${B}`}function uh(n,e,t,s){let{type:i,value:r}=n,{actualString:o,implicitKey:a,indent:c,inFlow:d}=e;if(a&&/[\n[\]{},]/.test(r)||d&&/[[\]{},]/.test(r))return $t(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return a||d||!r.includes(`
`)?$t(r,e):Qs(n,e,t,s);if(!a&&!d&&i!==ke.Scalar.PLAIN&&r.includes(`
`))return Qs(n,e,t,s);if(c===""&&Xs(r))return e.forceBlockIndent=!0,Qs(n,e,t,s);let m=r.replace(/\n+/g,`$&
${c}`);if(o){let p=L=>L.default&&L.tag!=="tag:yaml.org,2002:str"&&L.test?.test(m),{compat:v,tags:E}=e.doc.schema;if(E.some(p)||v?.some(p))return $t(r,e)}return a?m:Te.foldFlowLines(m,c,Te.FOLD_FLOW,Gs(e))}function fh(n,e,t,s){let{implicitKey:i,inFlow:r}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)}),{type:a}=n;a!==ke.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=ke.Scalar.QUOTE_DOUBLE);let c=m=>{switch(m){case ke.Scalar.BLOCK_FOLDED:case ke.Scalar.BLOCK_LITERAL:return i||r?$t(o.value,e):Qs(o,e,t,s);case ke.Scalar.QUOTE_DOUBLE:return Mt(o.value,e);case ke.Scalar.QUOTE_SINGLE:return si(o.value,e);case ke.Scalar.PLAIN:return uh(o,e,t,s);default:return null}},d=c(a);if(d===null){let{defaultKeyType:m,defaultStringType:p}=e.options,v=i&&m||p;if(d=c(v),d===null)throw new Error(`Unsupported default string type ${v}`)}return d}Ca.stringifyString=fh});var ot=R(ni=>{"use strict";var hh=Ys(),Ie=Y(),dh=Pt(),ph=Bt();function mh(n,e){let t=Object.assign({blockQuote:!0,commentString:dh.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e),s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function gh(n,e){if(e.tag){let i=n.filter(r=>r.tag===e.tag);if(i.length>0)return i.find(r=>r.format===e.format)??i[0]}let t,s;if(Ie.isScalar(e)){s=e.value;let i=n.filter(r=>r.identify?.(s));t=i.find(r=>r.format===e.format)??i.find(r=>!r.format)}else s=e,t=n.find(i=>i.nodeClass&&s instanceof i.nodeClass);if(!t){let i=s?.constructor?.name??typeof s;throw new Error(`Tag not resolved for ${i} value`)}return t}function yh(n,e,{anchors:t,doc:s}){if(!s.directives)return"";let i=[],r=(Ie.isScalar(n)||Ie.isCollection(n))&&n.anchor;r&&hh.anchorIsValid(r)&&(t.add(r),i.push(`&${r}`));let o=n.tag?n.tag:e.default?null:e.tag;return o&&i.push(s.directives.tagString(o)),i.join(" ")}function bh(n,e,t,s){if(Ie.isPair(n))return n.toString(e,t,s);if(Ie.isAlias(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let i,r=Ie.isNode(n)?n:e.doc.createNode(n,{onTagObj:c=>i=c});i||(i=gh(e.doc.schema.tags,r));let o=yh(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(r,e,t,s):Ie.isScalar(r)?ph.stringifyString(r,e,t,s):r.toString(e,t,s);return o?Ie.isScalar(r)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}ni.createStringifyContext=mh;ni.stringify=bh});var Ma=R(Da=>{"use strict";var Ce=Y(),Na=Q(),Pa=ot(),Ft=Pt();function vh({key:n,value:e},t,s,i){let{allNullValues:r,doc:o,indent:a,indentStep:c,options:{commentString:d,indentSeq:m,simpleKeys:p}}=t,v=Ce.isNode(n)&&n.comment||null;if(p){if(v)throw new Error("With simple keys, key nodes cannot have comments");if(Ce.isCollection(n)){let q="With simple keys, collection cannot be used as a key value";throw new Error(q)}}let E=!p&&(!n||v&&e==null&&!t.inFlow||Ce.isCollection(n)||(Ce.isScalar(n)?n.type===Na.Scalar.BLOCK_FOLDED||n.type===Na.Scalar.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!E&&(p||!r),indent:a+c});let L=!1,A=!1,b=Pa.stringify(n,t,()=>L=!0,()=>A=!0);if(!E&&!t.inFlow&&b.length>1024){if(p)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");E=!0}if(t.inFlow){if(r||e==null)return L&&s&&s(),b===""?"?":E?`? ${b}`:b}else if(r&&!p||e==null&&E)return b=`? ${b}`,v&&!L?b+=Ft.lineComment(b,t.indent,d(v)):A&&i&&i(),b;L&&(v=null),E?(v&&(b+=Ft.lineComment(b,t.indent,d(v))),b=`? ${b}
${a}:`):(b=`${b}:`,v&&(b+=Ft.lineComment(b,t.indent,d(v))));let k="",C=null;if(Ce.isNode(e)){if(e.spaceBefore&&(k=`
`),e.commentBefore){let q=d(e.commentBefore);k+=`
${Ft.indentComment(q,t.indent)}`}C=e.comment}else e&&typeof e=="object"&&(e=o.createNode(e));t.implicitKey=!1,!E&&!v&&Ce.isScalar(e)&&(t.indentAtStart=b.length+1),A=!1,!m&&c.length>=2&&!t.inFlow&&!E&&Ce.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substr(2));let D=!1,O=Pa.stringify(e,t,()=>D=!0,()=>A=!0),B=" ";return k||v?O===""&&!t.inFlow?B=k===`
`?`

`:k:B=`${k}
${t.indent}`:!E&&Ce.isCollection(e)?(!(O[0]==="["||O[0]==="{")||O.includes(`
`))&&(B=`
${t.indent}`):(O===""||O[0]===`
`)&&(B=""),b+=B+O,t.inFlow?D&&s&&s():C&&!D?b+=Ft.lineComment(b,t.indent,d(C)):A&&i&&i(),b}Da.stringifyPair=vh});var ri=R(ii=>{"use strict";function Sh(n,...e){n==="debug"&&console.log(...e)}function wh(n,e){(n==="debug"||n==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}ii.debug=Sh;ii.warn=wh});var li=R(Ba=>{"use strict";var Eh=ri(),kh=ot(),at=Y(),Ah=Q(),oi=rt(),$a="<<";function _h(n,e,{key:t,value:s}){if(n?.doc.schema.merge&&Lh(t))if(s=at.isAlias(s)?s.resolve(n.doc):s,at.isSeq(s))for(let i of s.items)ai(n,e,i);else if(Array.isArray(s))for(let i of s)ai(n,e,i);else ai(n,e,s);else{let i=oi.toJS(t,"",n);if(e instanceof Map)e.set(i,oi.toJS(s,i,n));else if(e instanceof Set)e.add(i);else{let r=Rh(t,i,n),o=oi.toJS(s,r,n);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}var Lh=n=>n===$a||at.isScalar(n)&&n.value===$a&&(!n.type||n.type===Ah.Scalar.PLAIN);function ai(n,e,t){let s=n&&at.isAlias(t)?t.resolve(n.doc):t;if(!at.isMap(s))throw new Error("Merge sources must be maps or map aliases");let i=s.toJSON(null,n,Map);for(let[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Rh(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(at.isNode(n)&&t&&t.doc){let s=kh.createStringifyContext(t.doc,{});s.anchors=new Set;for(let r of t.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;let i=n.toString(s);if(!t.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),Eh.warn(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return i}return JSON.stringify(e)}Ba.addPairToJSMap=_h});var _e=R(ci=>{"use strict";var Fa=Ct(),Oh=Ma(),qh=li(),Zs=Y();function Th(n,e,t){let s=Fa.createNode(n,void 0,t),i=Fa.createNode(e,void 0,t);return new jt(s,i)}var jt=class{constructor(e,t=null){Object.defineProperty(this,Zs.NODE_TYPE,{value:Zs.PAIR}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return Zs.isNode(t)&&(t=t.clone(e)),Zs.isNode(s)&&(s=s.clone(e)),new jt(t,s)}toJSON(e,t){let s=t?.mapAsMap?new Map:{};return qh.addPairToJSMap(t,s,this)}toString(e,t,s){return e?.doc?Oh.stringifyPair(this,e,t,s):JSON.stringify(this)}};ci.Pair=jt;ci.createPair=Th});var ui=R(xa=>{"use strict";var Ih=Nt(),Ke=Y(),ja=ot(),xt=Pt();function Ch(n,e,t){return(e.inFlow??n.flow?Ph:Nh)(n,e,t)}function Nh({comment:n,items:e},t,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:d}}=t,m=Object.assign({},t,{indent:r,type:null}),p=!1,v=[];for(let L=0;L<e.length;++L){let A=e[L],b=null;if(Ke.isNode(A))!p&&A.spaceBefore&&v.push(""),en(t,v,A.commentBefore,p),A.comment&&(b=A.comment);else if(Ke.isPair(A)){let C=Ke.isNode(A.key)?A.key:null;C&&(!p&&C.spaceBefore&&v.push(""),en(t,v,C.commentBefore,p))}p=!1;let k=ja.stringify(A,m,()=>b=null,()=>p=!0);b&&(k+=xt.lineComment(k,r,d(b))),p&&b&&(p=!1),v.push(s+k)}let E;if(v.length===0)E=i.start+i.end;else{E=v[0];for(let L=1;L<v.length;++L){let A=v[L];E+=A?`
${c}${A}`:`
`}}return n?(E+=`
`+xt.indentComment(d(n),c),a&&a()):p&&o&&o(),E}function Ph({comment:n,items:e},t,{flowChars:s,itemIndent:i,onComment:r}){let{indent:o,indentStep:a,options:{commentString:c}}=t;i+=a;let d=Object.assign({},t,{indent:i,inFlow:!0,type:null}),m=!1,p=0,v=[];for(let b=0;b<e.length;++b){let k=e[b],C=null;if(Ke.isNode(k))k.spaceBefore&&v.push(""),en(t,v,k.commentBefore,!1),k.comment&&(C=k.comment);else if(Ke.isPair(k)){let O=Ke.isNode(k.key)?k.key:null;O&&(O.spaceBefore&&v.push(""),en(t,v,O.commentBefore,!1),O.comment&&(m=!0));let B=Ke.isNode(k.value)?k.value:null;B?(B.comment&&(C=B.comment),B.commentBefore&&(m=!0)):k.value==null&&O&&O.comment&&(C=O.comment)}C&&(m=!0);let D=ja.stringify(k,d,()=>C=null);b<e.length-1&&(D+=","),C&&(D+=xt.lineComment(D,i,c(C))),!m&&(v.length>p||D.includes(`
`))&&(m=!0),v.push(D),p=v.length}let E,{start:L,end:A}=s;if(v.length===0)E=L+A;else if(m||(m=v.reduce((k,C)=>k+C.length+2,2)>Ih.Collection.maxFlowStringSingleLineLength),m){E=L;for(let b of v)E+=b?`
${a}${o}${b}`:`
`;E+=`
${o}${A}`}else E=`${L} ${v.join(" ")} ${A}`;return n&&(E+=xt.lineComment(E,c(n),o),r&&r()),E}function en({indent:n,options:{commentString:e}},t,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){let r=xt.indentComment(e(s),n);t.push(r.trimStart())}}xa.stringifyCollection=Ch});var Ye=R(hi=>{"use strict";var Dh=ui(),Mh=li(),$h=Nt(),Ne=Y(),fi=_e(),Bh=Q();function Vt(n,e){let t=Ne.isScalar(e)?e.value:e;for(let s of n)if(Ne.isPair(s)&&(s.key===e||s.key===t||Ne.isScalar(s.key)&&s.key.value===t))return s}var Va=class extends $h.Collection{constructor(e){super(Ne.MAP,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:map"}add(e,t){let s;Ne.isPair(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new fi.Pair(e,e?.value):s=new fi.Pair(e.key,e.value);let i=Vt(this.items,s.key),r=this.schema?.sortMapEntries;if(i){if(!t)throw new Error(`Key ${s.key} already set`);Ne.isScalar(i.value)&&Bh.isScalarValue(s.value)?i.value.value=s.value:i.value=s.value}else if(r){let o=this.items.findIndex(a=>r(s,a)<0);o===-1?this.items.push(s):this.items.splice(o,0,s)}else this.items.push(s)}delete(e){let t=Vt(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){let i=Vt(this.items,e)?.value;return(!t&&Ne.isScalar(i)?i.value:i)??void 0}has(e){return!!Vt(this.items,e)}set(e,t){this.add(new fi.Pair(e,t),!0)}toJSON(e,t,s){let i=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(i);for(let r of this.items)Mh.addPairToJSMap(t,i,r);return i}toString(e,t,s){if(!e)return JSON.stringify(this);for(let i of this.items)if(!Ne.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Dh.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}};hi.YAMLMap=Va;hi.findPair=Vt});var lt=R(Ka=>{"use strict";var Fh=Y(),jh=_e(),Ua=Ye();function xh(n,e,t){let{keepUndefined:s,replacer:i}=t,r=new Ua.YAMLMap(n),o=(a,c)=>{if(typeof i=="function")c=i.call(e,a,c);else if(Array.isArray(i)&&!i.includes(a))return;(c!==void 0||s)&&r.items.push(jh.createPair(a,c,t))};if(e instanceof Map)for(let[a,c]of e)o(a,c);else if(e&&typeof e=="object")for(let a of Object.keys(e))o(a,e[a]);return typeof n.sortMapEntries=="function"&&r.items.sort(n.sortMapEntries),r}var Vh={collection:"map",createNode:xh,default:!0,nodeClass:Ua.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(n,e){return Fh.isMap(n)||e("Expected a mapping for this tag"),n}};Ka.map=Vh});var We=R(Wa=>{"use strict";var Uh=ui(),Kh=Nt(),sn=Y(),Yh=Q(),Wh=rt(),Ya=class extends Kh.Collection{constructor(e){super(sn.SEQ,e);this.items=[]}static get tagName(){return"tag:yaml.org,2002:seq"}add(e){this.items.push(e)}delete(e){let t=tn(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){let s=tn(e);if(typeof s!="number")return;let i=this.items[s];return!t&&sn.isScalar(i)?i.value:i}has(e){let t=tn(e);return typeof t=="number"&&t<this.items.length}set(e,t){let s=tn(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[s];sn.isScalar(i)&&Yh.isScalarValue(t)?i.value=t:this.items[s]=t}toJSON(e,t){let s=[];t?.onCreate&&t.onCreate(s);let i=0;for(let r of this.items)s.push(Wh.toJS(r,String(i++),t));return s}toString(e,t,s){return e?Uh.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}};function tn(n){let e=sn.isScalar(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}Wa.YAMLSeq=Ya});var ct=R(Ha=>{"use strict";var Jh=Ct(),Hh=Y(),Ja=We();function zh(n,e,t){let{replacer:s}=t,i=new Ja.YAMLSeq(n);if(e&&Symbol.iterator in Object(e)){let r=0;for(let o of e){if(typeof s=="function"){let a=e instanceof Set?o:String(r++);o=s.call(e,a,o)}i.items.push(Jh.createNode(o,void 0,t))}}return i}var Qh={collection:"seq",createNode:zh,default:!0,nodeClass:Ja.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(n,e){return Hh.isSeq(n)||e("Expected a sequence for this tag"),n}};Ha.seq=Qh});var Ut=R(za=>{"use strict";var Gh=Bt(),Xh={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,s){return e=Object.assign({actualString:!0},e),Gh.stringifyString(n,e,t,s)}};za.string=Xh});var nn=R(Xa=>{"use strict";var Qa=Q(),Ga={identify:n=>n==null,createNode:()=>new Qa.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Qa.Scalar(null),stringify:({source:n},e)=>typeof n=="string"&&Ga.test.test(n)?n:e.options.nullStr};Xa.nullTag=Ga});var di=R(el=>{"use strict";var Zh=Q(),Za={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new Zh.Scalar(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&Za.test.test(n)){let s=n[0]==="t"||n[0]==="T";if(e===s)return n}return e?t.options.trueStr:t.options.falseStr}};el.boolTag=Za});var ut=R(tl=>{"use strict";function ed({format:n,minFractionDigits:e,tag:t,value:s}){if(typeof s=="bigint")return String(s);let i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let a=e-(r.length-o-1);for(;a-- >0;)r+="0"}return r}tl.stringifyNumber=ed});var mi=R(rn=>{"use strict";var td=Q(),pi=ut(),sd={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:pi.stringifyNumber},nd={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){let e=Number(n.value);return isFinite(e)?e.toExponential():pi.stringifyNumber(n)}},id={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){let e=new td.Scalar(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:pi.stringifyNumber};rn.float=id;rn.floatExp=nd;rn.floatNaN=sd});var yi=R(an=>{"use strict";var sl=ut(),on=n=>typeof n=="bigint"||Number.isInteger(n),gi=(n,e,t,{intAsBigInt:s})=>s?BigInt(n):parseInt(n.substring(e),t);function nl(n,e,t){let{value:s}=n;return on(s)&&s>=0?t+s.toString(e):sl.stringifyNumber(n)}var rd={identify:n=>on(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>gi(n,2,8,t),stringify:n=>nl(n,8,"0o")},od={identify:on,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>gi(n,0,10,t),stringify:sl.stringifyNumber},ad={identify:n=>on(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>gi(n,2,16,t),stringify:n=>nl(n,16,"0x")};an.int=od;an.intHex=ad;an.intOct=rd});var rl=R(il=>{"use strict";var ld=lt(),cd=nn(),ud=ct(),fd=Ut(),hd=di(),bi=mi(),vi=yi(),dd=[ld.map,ud.seq,fd.string,cd.nullTag,hd.boolTag,vi.intOct,vi.int,vi.intHex,bi.floatNaN,bi.floatExp,bi.float];il.schema=dd});var ll=R(al=>{"use strict";var pd=Q(),md=lt(),gd=ct();function ol(n){return typeof n=="bigint"||Number.isInteger(n)}var ln=({value:n})=>JSON.stringify(n),yd=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:ln},{identify:n=>n==null,createNode:()=>new pd.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:ln},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>n==="true",stringify:ln},{identify:ol,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>ol(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:ln}],bd={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},vd=[md.map,gd.seq].concat(yd,bd);al.schema=vd});var wi=R(cl=>{"use strict";var Si=Q(),Sd=Bt(),wd={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let t=atob(n.replace(/[\n\r]/g,"")),s=new Uint8Array(t.length);for(let i=0;i<t.length;++i)s[i]=t.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},s,i,r){let o=t,a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);a=btoa(c)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=Si.Scalar.BLOCK_LITERAL),e!==Si.Scalar.QUOTE_DOUBLE){let c=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),d=Math.ceil(a.length/c),m=new Array(d);for(let p=0,v=0;p<d;++p,v+=c)m[p]=a.substr(v,c);a=m.join(e===Si.Scalar.BLOCK_LITERAL?`
`:" ")}return Sd.stringifyString({comment:n,type:e,value:a},s,i,r)}};cl.binary=wd});var fn=R(un=>{"use strict";var cn=Y(),Ei=_e(),Ed=Q(),kd=We();function ul(n,e){if(cn.isSeq(n))for(let t=0;t<n.items.length;++t){let s=n.items[t];if(!cn.isPair(s)){if(cn.isMap(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");let i=s.items[0]||new Ei.Pair(new Ed.Scalar(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){let r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}n.items[t]=cn.isPair(s)?s:new Ei.Pair(s)}}else e("Expected a sequence for this tag");return n}function fl(n,e,t){let{replacer:s}=t,i=new kd.YAMLSeq(n);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let d=Object.keys(o);if(d.length===1)a=d[0],c=o[a];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else a=o;i.items.push(Ei.createPair(a,c,t))}return i}var Ad={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:ul,createNode:fl};un.createPairs=fl;un.pairs=Ad;un.resolvePairs=ul});var _i=R(Ai=>{"use strict";var _d=We(),ki=rt(),dl=Y(),Kt=Ye(),hl=fn(),Pe=class extends _d.YAMLSeq{constructor(){super();this.add=Kt.YAMLMap.prototype.add.bind(this),this.delete=Kt.YAMLMap.prototype.delete.bind(this),this.get=Kt.YAMLMap.prototype.get.bind(this),this.has=Kt.YAMLMap.prototype.has.bind(this),this.set=Kt.YAMLMap.prototype.set.bind(this),this.tag=Pe.tag}toJSON(e,t){if(!t)return super.toJSON(e);let s=new Map;t?.onCreate&&t.onCreate(s);for(let i of this.items){let r,o;if(dl.isPair(i)?(r=ki.toJS(i.key,"",t),o=ki.toJS(i.value,r,t)):r=ki.toJS(i,"",t),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}};Pe.tag="tag:yaml.org,2002:omap";var Ld={collection:"seq",identify:n=>n instanceof Map,nodeClass:Pe,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){let t=hl.resolvePairs(n,e),s=[];for(let{key:i}of t.items)dl.isScalar(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new Pe,t)},createNode(n,e,t){let s=hl.createPairs(n,e,t),i=new Pe;return i.items=s.items,i}};Ai.YAMLOMap=Pe;Ai.omap=Ld});var bl=R(Li=>{"use strict";var pl=Q();function ml({value:n,source:e},t){return e&&(n?gl:yl).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}var gl={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new pl.Scalar(!0),stringify:ml},yl={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new pl.Scalar(!1),stringify:ml};Li.falseTag=yl;Li.trueTag=gl});var vl=R(hn=>{"use strict";var Rd=Q(),Ri=ut(),Od={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Ri.stringifyNumber},qd={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){let e=Number(n.value);return isFinite(e)?e.toExponential():Ri.stringifyNumber(n)}},Td={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){let e=new Rd.Scalar(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){let s=n.substring(t+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:Ri.stringifyNumber};hn.float=Td;hn.floatExp=qd;hn.floatNaN=Od});var wl=R(Wt=>{"use strict";var Sl=ut(),Yt=n=>typeof n=="bigint"||Number.isInteger(n);function dn(n,e,t,{intAsBigInt:s}){let i=n[0];if((i==="-"||i==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),s){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}let o=BigInt(n);return i==="-"?BigInt(-1)*o:o}let r=parseInt(n,t);return i==="-"?-1*r:r}function Oi(n,e,t){let{value:s}=n;if(Yt(s)){let i=s.toString(e);return s<0?"-"+t+i.substr(1):t+i}return Sl.stringifyNumber(n)}var Id={identify:Yt,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>dn(n,2,2,t),stringify:n=>Oi(n,2,"0b")},Cd={identify:Yt,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>dn(n,1,8,t),stringify:n=>Oi(n,8,"0")},Nd={identify:Yt,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>dn(n,0,10,t),stringify:Sl.stringifyNumber},Pd={identify:Yt,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>dn(n,2,16,t),stringify:n=>Oi(n,16,"0x")};Wt.int=Nd;Wt.intBin=Id;Wt.intHex=Pd;Wt.intOct=Cd});var Ti=R(qi=>{"use strict";var mn=Y(),gn=_e(),pn=Ye(),De=class extends pn.YAMLMap{constructor(e){super(e);this.tag=De.tag}add(e){let t;mn.isPair(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new gn.Pair(e.key,null):t=new gn.Pair(e,null),pn.findPair(this.items,t.key)||this.items.push(t)}get(e,t){let s=pn.findPair(this.items,e);return!t&&mn.isPair(s)?mn.isScalar(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let s=pn.findPair(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new gn.Pair(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}};De.tag="tag:yaml.org,2002:set";var Dd={collection:"map",identify:n=>n instanceof Set,nodeClass:De,default:!1,tag:"tag:yaml.org,2002:set",resolve(n,e){if(mn.isMap(n)){if(n.hasAllNullValues(!0))return Object.assign(new De,n);e("Set items must all have null values")}else e("Expected a mapping for this tag");return n},createNode(n,e,t){let{replacer:s}=t,i=new De(n);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof s=="function"&&(r=s.call(e,r,r)),i.items.push(gn.createPair(r,null,t));return i}};qi.YAMLSet=De;qi.set=Dd});var Ci=R(yn=>{"use strict";var Md=ut();function Ii(n,e){let t=n[0],s=t==="-"||t==="+"?n.substring(1):n,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return t==="-"?i(-1)*r:r}function El(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return Md.stringifyNumber(n);let s="";e<0&&(s="-",e*=t(-1));let i=t(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>o<10?"0"+String(o):String(o)).join(":").replace(/000000\d*$/,"")}var $d={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>Ii(n,t),stringify:El},Bd={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>Ii(n,!1),stringify:El},kl={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){let e=n.match(kl.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,t,s,i,r,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,d=Date.UTC(t,s-1,i,r||0,o||0,a||0,c),m=e[8];if(m&&m!=="Z"){let p=Ii(m,!1);Math.abs(p)<30&&(p*=60),d-=6e4*p}return new Date(d)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};yn.floatTime=Bd;yn.intTime=$d;yn.timestamp=kl});var Ll=R(_l=>{"use strict";var Fd=lt(),jd=nn(),xd=ct(),Vd=Ut(),Ud=wi(),Al=bl(),Ni=vl(),bn=wl(),Kd=_i(),Yd=fn(),Wd=Ti(),Pi=Ci(),Jd=[Fd.map,xd.seq,Vd.string,jd.nullTag,Al.trueTag,Al.falseTag,bn.intBin,bn.intOct,bn.int,bn.intHex,Ni.floatNaN,Ni.floatExp,Ni.float,Ud.binary,Kd.omap,Yd.pairs,Wd.set,Pi.intTime,Pi.floatTime,Pi.timestamp];_l.schema=Jd});var Ml=R($i=>{"use strict";var Tl=lt(),Hd=nn(),Il=ct(),zd=Ut(),Qd=di(),Di=mi(),Mi=yi(),Gd=rl(),Xd=ll(),Cl=wi(),Nl=_i(),Pl=fn(),Rl=Ll(),Dl=Ti(),vn=Ci(),Ol=new Map([["core",Gd.schema],["failsafe",[Tl.map,Il.seq,zd.string]],["json",Xd.schema],["yaml11",Rl.schema],["yaml-1.1",Rl.schema]]),ql={binary:Cl.binary,bool:Qd.boolTag,float:Di.float,floatExp:Di.floatExp,floatNaN:Di.floatNaN,floatTime:vn.floatTime,int:Mi.int,intHex:Mi.intHex,intOct:Mi.intOct,intTime:vn.intTime,map:Tl.map,null:Hd.nullTag,omap:Nl.omap,pairs:Pl.pairs,seq:Il.seq,set:Dl.set,timestamp:vn.timestamp},Zd={"tag:yaml.org,2002:binary":Cl.binary,"tag:yaml.org,2002:omap":Nl.omap,"tag:yaml.org,2002:pairs":Pl.pairs,"tag:yaml.org,2002:set":Dl.set,"tag:yaml.org,2002:timestamp":vn.timestamp};function ep(n,e){let t=Ol.get(e);if(!t)if(Array.isArray(n))t=[];else{let s=Array.from(Ol.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(n))for(let s of n)t=t.concat(s);else typeof n=="function"&&(t=n(t.slice()));return t.map(s=>{if(typeof s!="string")return s;let i=ql[s];if(i)return i;let r=Object.keys(ql).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${r}`)})}$i.coreKnownTags=Zd;$i.getTags=ep});var Fi=R($l=>{"use strict";var Bi=Y(),tp=lt(),sp=ct(),np=Ut(),Sn=Ml(),ip=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0,wn=class{constructor({compat:e,customTags:t,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Sn.getTags(e,"compat"):e?Sn.getTags(null,e):null,this.merge=!!s,this.name=typeof r=="string"&&r||"core",this.knownTags=i?Sn.coreKnownTags:{},this.tags=Sn.getTags(t,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Bi.MAP,{value:tp.map}),Object.defineProperty(this,Bi.SCALAR,{value:np.string}),Object.defineProperty(this,Bi.SEQ,{value:sp.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?ip:null}clone(){let e=Object.create(wn.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};$l.Schema=wn});var Fl=R(Bl=>{"use strict";var rp=Y(),ji=ot(),Jt=Pt();function op(n,e){let t=[],s=e.directives===!0;if(e.directives!==!1&&n.directives){let c=n.directives.toString(n);c?(t.push(c),s=!0):n.directives.docStart&&(s=!0)}s&&t.push("---");let i=ji.createStringifyContext(n,e),{commentString:r}=i.options;if(n.commentBefore){t.length!==1&&t.unshift("");let c=r(n.commentBefore);t.unshift(Jt.indentComment(c,""))}let o=!1,a=null;if(n.contents){if(rp.isNode(n.contents)){if(n.contents.spaceBefore&&s&&t.push(""),n.contents.commentBefore){let m=r(n.contents.commentBefore);t.push(Jt.indentComment(m,""))}i.forceBlockIndent=!!n.comment,a=n.contents.comment}let c=a?void 0:()=>o=!0,d=ji.stringify(n.contents,i,()=>a=null,c);a&&(d+=Jt.lineComment(d,"",r(a))),(d[0]==="|"||d[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${d}`:t.push(d)}else t.push(ji.stringify(n.contents,i));if(n.directives?.docEnd)if(n.comment){let c=r(n.comment);c.includes(`
`)?(t.push("..."),t.push(Jt.indentComment(c,""))):t.push(`... ${c}`)}else t.push("...");else{let c=n.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(Jt.indentComment(r(c),"")))}return t.join(`
`)+`
`}Bl.stringifyDocument=op});var xl=R(jl=>{"use strict";function Ht(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){let o=s[i],a=Ht(n,s,String(i),o);a===void 0?delete s[i]:a!==o&&(s[i]=a)}else if(s instanceof Map)for(let i of Array.from(s.keys())){let r=s.get(i),o=Ht(n,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(let i of Array.from(s)){let r=Ht(n,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(let[i,r]of Object.entries(s)){let o=Ht(n,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return n.call(e,t,s)}jl.applyReviver=Ht});var zt=R(Vl=>{"use strict";var ap=It(),ft=Nt(),fe=Y(),lp=_e(),cp=rt(),up=Fi(),fp=ot(),hp=Fl(),xi=Ys(),dp=xl(),pp=Ct(),Vi=Qn(),En=class{constructor(e,t,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,fe.NODE_TYPE,{value:fe.DOC});let i=null;typeof t=="function"||Array.isArray(t)?i=t:s===void 0&&t&&(s=t,t=void 0);let r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s?._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Vi.Directives({version:o}),this.setSchema(o,s),e===void 0?this.contents=null:this.contents=this.createNode(e,i,s)}clone(){let e=Object.create(En.prototype,{[fe.NODE_TYPE]:{value:fe.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=fe.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ht(this.contents)&&this.contents.add(e)}addIn(e,t){ht(this.contents)&&this.contents.addIn(e,t)}createAlias(e,t){if(!e.anchor){let s=xi.anchorNames(this);e.anchor=!t||s.has(t)?xi.findNewAnchor(t||"a",s):t}return new ap.Alias(e.anchor)}createNode(e,t,s){let i;if(typeof t=="function")e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){let b=C=>typeof C=="number"||C instanceof String||C instanceof Number,k=t.filter(b).map(String);k.length>0&&(t=t.concat(k)),i=t}else s===void 0&&t&&(s=t,t=void 0);let{aliasDuplicateObjects:r,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:d,tag:m}=s??{},{onAnchor:p,setAnchors:v,sourceObjects:E}=xi.createNodeAnchors(this,o||"a"),L={aliasDuplicateObjects:r??!0,keepUndefined:c??!1,onAnchor:p,onTagObj:d,replacer:i,schema:this.schema,sourceObjects:E},A=pp.createNode(e,m,L);return a&&fe.isCollection(A)&&(A.flow=!0),v(),A}createPair(e,t,s={}){let i=this.createNode(e,null,s),r=this.createNode(t,null,s);return new lp.Pair(i,r)}delete(e){return ht(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ft.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):ht(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return fe.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return ft.isEmptyPath(e)?!t&&fe.isScalar(this.contents)?this.contents.value:this.contents:fe.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return fe.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return ft.isEmptyPath(e)?this.contents!==void 0:fe.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=ft.collectionFromPath(this.schema,[e],t):ht(this.contents)&&this.contents.set(e,t)}setIn(e,t){ft.isEmptyPath(e)?this.contents=t:this.contents==null?this.contents=ft.collectionFromPath(this.schema,Array.from(e),t):ht(this.contents)&&this.contents.setIn(e,t)}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Vi.Directives({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new Vi.Directives({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(s)this.schema=new up.Schema(Object.assign(s,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:fp.stringify},c=cp.toJS(this.contents,t??"",a);if(typeof r=="function")for(let{count:d,res:m}of a.anchors.values())r(m,d);return typeof o=="function"?dp.applyReviver(o,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return hp.stringifyDocument(this,e)}};function ht(n){if(fe.isCollection(n))return!0;throw new Error("Expected a YAML collection as document contents")}Vl.Document=En});var Gt=R(Qt=>{"use strict";var kn=class extends Error{constructor(e,t,s,i){super();this.name=e,this.code=s,this.message=i,this.pos=t}},Ul=class extends kn{constructor(e,t,s){super("YAMLParseError",e,t,s)}},Kl=class extends kn{constructor(e,t,s){super("YAMLWarning",e,t,s)}},mp=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));let{line:s,col:i}=t.linePos[0];t.message+=` at line ${s}, column ${i}`;let r=i-1,o=n.substring(e.lineStarts[s-1],e.lineStarts[s]).replace(/[\n\r]+$/,"");if(r>=60&&o.length>80){let a=Math.min(r-39,o.length-79);o="\u2026"+o.substring(a),r-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),s>1&&/^ *$/.test(o.substring(0,r))){let a=n.substring(e.lineStarts[s-2],e.lineStarts[s-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o}if(/[^ ]/.test(o)){let a=1,c=t.linePos[1];c&&c.line===s&&c.col>i&&(a=Math.min(c.col-i,80-r));let d=" ".repeat(r)+"^".repeat(a);t.message+=`:

${o}
${d}
`}};Qt.YAMLError=kn;Qt.YAMLParseError=Ul;Qt.YAMLWarning=Kl;Qt.prettifyError=mp});var Xt=R(Yl=>{"use strict";function gp(n,{flow:e,indicator:t,next:s,offset:i,onError:r,startOnNewline:o}){let a=!1,c=o,d=o,m="",p="",v=!1,E=!1,L=!1,A=null,b=null,k=null,C=null,D=null;for(let q of n)switch(L&&(q.type!=="space"&&q.type!=="newline"&&q.type!=="comma"&&r(q.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),L=!1),q.type){case"space":!e&&c&&t!=="doc-start"&&q.source[0]==="	"&&r(q,"TAB_AS_INDENT","Tabs are not allowed as indentation"),d=!0;break;case"comment":{d||r(q,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let X=q.source.substring(1)||" ";m?m+=p+X:m=X,p="",c=!1;break}case"newline":c?m?m+=q.source:a=!0:p+=q.source,c=!0,v=!0,(A||b)&&(E=!0),d=!0;break;case"anchor":A&&r(q,"MULTIPLE_ANCHORS","A node can have at most one anchor"),q.source.endsWith(":")&&r(q.offset+q.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),A=q,D===null&&(D=q.offset),c=!1,d=!1,L=!0;break;case"tag":{b&&r(q,"MULTIPLE_TAGS","A node can have at most one tag"),b=q,D===null&&(D=q.offset),c=!1,d=!1,L=!0;break}case t:(A||b)&&r(q,"BAD_PROP_ORDER",`Anchors and tags must be after the ${q.source} indicator`),C&&r(q,"UNEXPECTED_TOKEN",`Unexpected ${q.source} in ${e??"collection"}`),C=q,c=!1,d=!1;break;case"comma":if(e){k&&r(q,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),k=q,c=!1,d=!1;break}default:r(q,"UNEXPECTED_TOKEN",`Unexpected ${q.type} token`),c=!1,d=!1}let O=n[n.length-1],B=O?O.offset+O.source.length:i;return L&&s&&s.type!=="space"&&s.type!=="newline"&&s.type!=="comma"&&(s.type!=="scalar"||s.source!=="")&&r(s.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:k,found:C,spaceBefore:a,comment:m,hasNewline:v,hasNewlineAfterProp:E,anchor:A,tag:b,end:B,start:D??B}}Yl.resolveProps=gp});var An=R(Wl=>{"use strict";function Ui(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
`))return!0;if(n.end){for(let e of n.end)if(e.type==="newline")return!0}return!1;case"flow-collection":for(let e of n.items){for(let t of e.start)if(t.type==="newline")return!0;if(e.sep){for(let t of e.sep)if(t.type==="newline")return!0}if(Ui(e.key)||Ui(e.value))return!0}return!1;default:return!0}}Wl.containsNewline=Ui});var Ki=R(Jl=>{"use strict";var yp=An();function bp(n,e,t){if(e?.type==="flow-collection"){let s=e.end[0];s.indent===n&&(s.source==="]"||s.source==="}")&&yp.containsNewline(e)&&t(s,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}Jl.flowIndentCheck=bp});var Yi=R(zl=>{"use strict";var Hl=Y();function vp(n,e,t){let{uniqueKeys:s}=n.options;if(s===!1)return!1;let i=typeof s=="function"?s:(r,o)=>r===o||Hl.isScalar(r)&&Hl.isScalar(o)&&r.value===o.value&&!(r.value==="<<"&&n.schema.merge);return e.some(r=>i(r.key,t))}zl.mapIncludes=vp});var tc=R(ec=>{"use strict";var Ql=_e(),Sp=Ye(),Gl=Xt(),wp=An(),Xl=Ki(),Ep=Yi(),Zl="All mapping items must start at the same column";function kp({composeNode:n,composeEmptyNode:e},t,s,i){let r=new Sp.YAMLMap(t.schema);t.atRoot&&(t.atRoot=!1);let o=s.offset,a=null;for(let c of s.items){let{start:d,key:m,sep:p,value:v}=c,E=Gl.resolveProps(d,{indicator:"explicit-key-ind",next:m??p?.[0],offset:o,onError:i,startOnNewline:!0}),L=!E.found;if(L){if(m&&(m.type==="block-seq"?i(o,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in m&&m.indent!==s.indent&&i(o,"BAD_INDENT",Zl)),!E.anchor&&!E.tag&&!p){a=E.end,E.comment&&(r.comment?r.comment+=`
`+E.comment:r.comment=E.comment);continue}(E.hasNewlineAfterProp||wp.containsNewline(m))&&i(m??d[d.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else E.found?.indent!==s.indent&&i(o,"BAD_INDENT",Zl);let A=E.end,b=m?n(t,m,E,i):e(t,A,d,null,E,i);t.schema.compat&&Xl.flowIndentCheck(s.indent,m,i),Ep.mapIncludes(t,r.items,b)&&i(A,"DUPLICATE_KEY","Map keys must be unique");let k=Gl.resolveProps(p??[],{indicator:"map-value-ind",next:v,offset:b.range[2],onError:i,startOnNewline:!m||m.type==="block-scalar"});if(o=k.end,k.found){L&&(v?.type==="block-map"&&!k.hasNewline&&i(o,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&E.start<k.found.offset-1024&&i(b.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let C=v?n(t,v,k,i):e(t,o,p,null,k,i);t.schema.compat&&Xl.flowIndentCheck(s.indent,v,i),o=C.range[2];let D=new Ql.Pair(b,C);t.options.keepSourceTokens&&(D.srcToken=c),r.items.push(D)}else{L&&i(b.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),k.comment&&(b.comment?b.comment+=`
`+k.comment:b.comment=k.comment);let C=new Ql.Pair(b);t.options.keepSourceTokens&&(C.srcToken=c),r.items.push(C)}}return a&&a<o&&i(a,"IMPOSSIBLE","Map comment with trailing content"),r.range=[s.offset,o,a??o],r}ec.resolveBlockMap=kp});var nc=R(sc=>{"use strict";var Ap=We(),_p=Xt(),Lp=Ki();function Rp({composeNode:n,composeEmptyNode:e},t,s,i){let r=new Ap.YAMLSeq(t.schema);t.atRoot&&(t.atRoot=!1);let o=s.offset,a=null;for(let{start:c,value:d}of s.items){let m=_p.resolveProps(c,{indicator:"seq-item-ind",next:d,offset:o,onError:i,startOnNewline:!0});if(!m.found)if(m.anchor||m.tag||d)d&&d.type==="block-seq"?i(m.end,"BAD_INDENT","All sequence items must start at the same column"):i(o,"MISSING_CHAR","Sequence item without - indicator");else{a=m.end,m.comment&&(r.comment=m.comment);continue}let p=d?n(t,d,m,i):e(t,m.end,c,null,m,i);t.schema.compat&&Lp.flowIndentCheck(s.indent,d,i),o=p.range[2],r.items.push(p)}return r.range=[s.offset,o,a??o],r}sc.resolveBlockSeq=Rp});var dt=R(ic=>{"use strict";function Op(n,e,t,s){let i="";if(n){let r=!1,o="";for(let a of n){let{source:c,type:d}=a;switch(d){case"space":r=!0;break;case"comment":{t&&!r&&s(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let m=c.substring(1)||" ";i?i+=o+m:i=m,o="";break}case"newline":i&&(o+=c),r=!0;break;default:s(a,"UNEXPECTED_TOKEN",`Unexpected ${d} at node end`)}e+=c.length}}return{comment:i,offset:e}}ic.resolveEnd=Op});var lc=R(ac=>{"use strict";var qp=Y(),Tp=_e(),rc=Ye(),Ip=We(),Cp=dt(),oc=Xt(),Np=An(),Pp=Yi(),Wi="Block collections are not allowed within flow collections",Ji=n=>n&&(n.type==="block-map"||n.type==="block-seq");function Dp({composeNode:n,composeEmptyNode:e},t,s,i){let r=s.start.source==="{",o=r?"flow map":"flow sequence",a=r?new rc.YAMLMap(t.schema):new Ip.YAMLSeq(t.schema);a.flow=!0;let c=t.atRoot;c&&(t.atRoot=!1);let d=s.offset+s.start.source.length;for(let L=0;L<s.items.length;++L){let A=s.items[L],{start:b,key:k,sep:C,value:D}=A,O=oc.resolveProps(b,{flow:o,indicator:"explicit-key-ind",next:k??C?.[0],offset:d,onError:i,startOnNewline:!1});if(!O.found){if(!O.anchor&&!O.tag&&!C&&!D){L===0&&O.comma?i(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`):L<s.items.length-1&&i(O.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${o}`),O.comment&&(a.comment?a.comment+=`
`+O.comment:a.comment=O.comment),d=O.end;continue}!r&&t.options.strict&&Np.containsNewline(k)&&i(k,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(L===0)O.comma&&i(O.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${o}`);else if(O.comma||i(O.start,"MISSING_CHAR",`Missing , between ${o} items`),O.comment){let B="";e:for(let q of b)switch(q.type){case"comma":case"space":break;case"comment":B=q.source.substring(1);break e;default:break e}if(B){let q=a.items[a.items.length-1];qp.isPair(q)&&(q=q.value??q.key),q.comment?q.comment+=`
`+B:q.comment=B,O.comment=O.comment.substring(B.length+1)}}if(!r&&!C&&!O.found){let B=D?n(t,D,O,i):e(t,O.end,C,null,O,i);a.items.push(B),d=B.range[2],Ji(D)&&i(B.range,"BLOCK_IN_FLOW",Wi)}else{let B=O.end,q=k?n(t,k,O,i):e(t,B,b,null,O,i);Ji(k)&&i(q.range,"BLOCK_IN_FLOW",Wi);let X=oc.resolveProps(C??[],{flow:o,indicator:"map-value-ind",next:D,offset:q.range[2],onError:i,startOnNewline:!1});if(X.found){if(!r&&!O.found&&t.options.strict){if(C)for(let le of C){if(le===X.found)break;if(le.type==="newline"){i(le,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}O.start<X.found.offset-1024&&i(X.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else D&&("source"in D&&D.source&&D.source[0]===":"?i(D,"MISSING_CHAR",`Missing space after : in ${o}`):i(X.start,"MISSING_CHAR",`Missing , or : between ${o} items`));let $e=D?n(t,D,X,i):X.found?e(t,X.end,C,null,X,i):null;$e?Ji(D)&&i($e.range,"BLOCK_IN_FLOW",Wi):X.comment&&(q.comment?q.comment+=`
`+X.comment:q.comment=X.comment);let yt=new Tp.Pair(q,$e);if(t.options.keepSourceTokens&&(yt.srcToken=A),r){let le=a;Pp.mapIncludes(t,le.items,q)&&i(B,"DUPLICATE_KEY","Map keys must be unique"),le.items.push(yt)}else{let le=new rc.YAMLMap(t.schema);le.flow=!0,le.items.push(yt),a.items.push(le)}d=$e?$e.range[2]:X.end}}let m=r?"}":"]",[p,...v]=s.end,E=d;if(p&&p.source===m)E=p.offset+p.source.length;else{let L=o[0].toUpperCase()+o.substring(1),A=c?`${L} must end with a ${m}`:`${L} in block collection must be sufficiently indented and end with a ${m}`;i(d,c?"MISSING_CHAR":"BAD_INDENT",A),p&&p.source.length!==1&&v.unshift(p)}if(v.length>0){let L=Cp.resolveEnd(v,E,t.options.strict,i);L.comment&&(a.comment?a.comment+=`
`+L.comment:a.comment=L.comment),a.range=[s.offset,E,L.offset]}else a.range=[s.offset,E,E];return a}ac.resolveFlowCollection=Dp});var fc=R(uc=>{"use strict";var cc=Y(),Mp=Q(),$p=tc(),Bp=nc(),Fp=lc();function jp(n,e,t,s,i){let r;switch(t.type){case"block-map":{r=$p.resolveBlockMap(n,e,t,i);break}case"block-seq":{r=Bp.resolveBlockSeq(n,e,t,i);break}case"flow-collection":{r=Fp.resolveFlowCollection(n,e,t,i);break}}if(!s)return r;let o=e.directives.tagName(s.source,v=>i(s,"TAG_RESOLVE_FAILED",v));if(!o)return r;let a=r.constructor;if(o==="!"||o===a.tagName)return r.tag=a.tagName,r;let c=cc.isMap(r)?"map":"seq",d=e.schema.tags.find(v=>v.collection===c&&v.tag===o);if(!d){let v=e.schema.knownTags[o];if(v&&v.collection===c)e.schema.tags.push(Object.assign({},v,{default:!1})),d=v;else return i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),r.tag=o,r}let m=d.resolve(r,v=>i(s,"TAG_RESOLVE_FAILED",v),e.options),p=cc.isNode(m)?m:new Mp.Scalar(m);return p.range=r.range,p.tag=o,d?.format&&(p.format=d.format),p}uc.composeCollection=jp});var zi=R(hc=>{"use strict";var Hi=Q();function xp(n,e,t){let s=n.offset,i=Vp(n,e,t);if(!i)return{value:"",type:null,comment:"",range:[s,s,s]};let r=i.mode===">"?Hi.Scalar.BLOCK_FOLDED:Hi.Scalar.BLOCK_LITERAL,o=n.source?Up(n.source):[],a=o.length;for(let A=o.length-1;A>=0;--A){let b=o[A][1];if(b===""||b==="\r")a=A;else break}if(a===0){let A=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",b=s+i.length;return n.source&&(b+=n.source.length),{value:A,type:r,comment:i.comment,range:[s,b,b]}}let c=n.indent+i.indent,d=n.offset+i.length,m=0;for(let A=0;A<a;++A){let[b,k]=o[A];if(k===""||k==="\r")i.indent===0&&b.length>c&&(c=b.length);else{if(b.length<c){let C="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";t(d+b.length,"MISSING_CHAR",C)}i.indent===0&&(c=b.length),m=A;break}d+=b.length+k.length+1}for(let A=o.length-1;A>=a;--A)o[A][0].length>c&&(a=A+1);let p="",v="",E=!1;for(let A=0;A<m;++A)p+=o[A][0].slice(c)+`
`;for(let A=m;A<a;++A){let[b,k]=o[A];d+=b.length+k.length+1;let C=k[k.length-1]==="\r";if(C&&(k=k.slice(0,-1)),k&&b.length<c){let O=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;t(d-k.length-(C?2:1),"BAD_INDENT",O),b=""}r===Hi.Scalar.BLOCK_LITERAL?(p+=v+b.slice(c)+k,v=`
`):b.length>c||k[0]==="	"?(v===" "?v=`
`:!E&&v===`
`&&(v=`

`),p+=v+b.slice(c)+k,v=`
`,E=!0):k===""?v===`
`?p+=`
`:v=`
`:(p+=v+k,v=" ",E=!1)}switch(i.chomp){case"-":break;case"+":for(let A=a;A<o.length;++A)p+=`
`+o[A][0].slice(c);p[p.length-1]!==`
`&&(p+=`
`);break;default:p+=`
`}let L=s+i.length+n.source.length;return{value:p,type:r,comment:i.comment,range:[s,L,L]}}function Vp({offset:n,props:e},t,s){if(e[0].type!=="block-scalar-header")return s(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],r=i[0],o=0,a="",c=-1;for(let v=1;v<i.length;++v){let E=i[v];if(!a&&(E==="-"||E==="+"))a=E;else{let L=Number(E);!o&&L?o=L:c===-1&&(c=n+v)}}c!==-1&&s(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let d=!1,m="",p=i.length;for(let v=1;v<e.length;++v){let E=e[v];switch(E.type){case"space":d=!0;case"newline":p+=E.source.length;break;case"comment":t&&!d&&s(E,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),p+=E.source.length,m=E.source.substring(1);break;case"error":s(E,"UNEXPECTED_TOKEN",E.message),p+=E.source.length;break;default:{let L=`Unexpected token in block scalar header: ${E.type}`;s(E,"UNEXPECTED_TOKEN",L);let A=E.source;A&&typeof A=="string"&&(p+=A.length)}}}return{mode:r,indent:o,chomp:a,comment:m,length:p}}function Up(n){let e=n.split(/\n( *)/),t=e[0],s=t.match(/^( *)/),r=[s?.[1]?[s[1],t.slice(s[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)r.push([e[o],e[o+1]]);return r}hc.resolveBlockScalar=xp});var Gi=R(pc=>{"use strict";var Qi=Q(),Kp=dt();function Yp(n,e,t){let{offset:s,type:i,source:r,end:o}=n,a,c,d=(v,E,L)=>t(s+v,E,L);switch(i){case"scalar":a=Qi.Scalar.PLAIN,c=Wp(r,d);break;case"single-quoted-scalar":a=Qi.Scalar.QUOTE_SINGLE,c=Jp(r,d);break;case"double-quoted-scalar":a=Qi.Scalar.QUOTE_DOUBLE,c=Hp(r,d);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[s,s+r.length,s+r.length]}}let m=s+r.length,p=Kp.resolveEnd(o,m,e,t);return{value:c,type:a,comment:p.comment,range:[s,m,p.offset]}}function Wp(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),dc(n)}function Jp(n,e){return(n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),dc(n.slice(1,-1)).replace(/''/g,"'")}function dc(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy}let s=e.exec(n);if(!s)return n;let i=s[1],r=" ",o=e.lastIndex;for(t.lastIndex=o;s=t.exec(n);)s[1]===""?r===`
`?i+=r:r=`
`:(i+=r+s[1],r=" "),o=t.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,s=a.exec(n),i+r+(s?.[1]??"")}function Hp(n,e){let t="";for(let s=1;s<n.length-1;++s){let i=n[s];if(!(i==="\r"&&n[s+1]===`
`))if(i===`
`){let{fold:r,offset:o}=zp(n,s);t+=r,s=o}else if(i==="\\"){let r=n[++s],o=Qp[r];if(o)t+=o;else if(r===`
`)for(r=n[s+1];r===" "||r==="	";)r=n[++s+1];else if(r==="\r"&&n[s+1]===`
`)for(r=n[++s+1];r===" "||r==="	";)r=n[++s+1];else if(r==="x"||r==="u"||r==="U"){let a={x:2,u:4,U:8}[r];t+=Gp(n,s+1,a,e),s+=a}else{let a=n.substr(s-1,2);e(s-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a}}else if(i===" "||i==="	"){let r=s,o=n[s+1];for(;o===" "||o==="	";)o=n[++s+1];o!==`
`&&!(o==="\r"&&n[s+2]===`
`)&&(t+=s>r?n.slice(r,s+1):i)}else t+=i}return(n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function zp(n,e){let t="",s=n[e+1];for(;(s===" "||s==="	"||s===`
`||s==="\r")&&!(s==="\r"&&n[e+2]!==`
`);)s===`
`&&(t+=`
`),e+=1,s=n[e+1];return t||(t=" "),{fold:t,offset:e}}var Qp={"0":"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function Gp(n,e,t,s){let i=n.substr(e,t),o=i.length===t&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=n.substr(e-2,t+2);return s(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}pc.resolveFlowScalar=Yp});var yc=R(gc=>{"use strict";var pt=Y(),mc=Q(),Xp=zi(),Zp=Gi();function em(n,e,t,s){let{value:i,type:r,comment:o,range:a}=e.type==="block-scalar"?Xp.resolveBlockScalar(e,n.options.strict,s):Zp.resolveFlowScalar(e,n.options.strict,s),c=t?n.directives.tagName(t.source,p=>s(t,"TAG_RESOLVE_FAILED",p)):null,d=t&&c?tm(n.schema,i,c,t,s):e.type==="scalar"?sm(n,i,e,s):n.schema[pt.SCALAR],m;try{let p=d.resolve(i,v=>s(t??e,"TAG_RESOLVE_FAILED",v),n.options);m=pt.isScalar(p)?p:new mc.Scalar(p)}catch(p){let v=p instanceof Error?p.message:String(p);s(t??e,"TAG_RESOLVE_FAILED",v),m=new mc.Scalar(i)}return m.range=a,m.source=i,r&&(m.type=r),c&&(m.tag=c),d.format&&(m.format=d.format),o&&(m.comment=o),m}function tm(n,e,t,s,i){if(t==="!")return n[pt.SCALAR];let r=[];for(let a of n.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)r.push(a);else return a;for(let a of r)if(a.test?.test(e))return a;let o=n.knownTags[t];return o&&!o.collection?(n.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[pt.SCALAR])}function sm({directives:n,schema:e},t,s,i){let r=e.tags.find(o=>o.default&&o.test?.test(t))||e[pt.SCALAR];if(e.compat){let o=e.compat.find(a=>a.default&&a.test?.test(t))??e[pt.SCALAR];if(r.tag!==o.tag){let a=n.tagString(r.tag),c=n.tagString(o.tag),d=`Value may be parsed as either ${a} or ${c}`;i(s,"TAG_RESOLVE_FAILED",d,!0)}}return r}gc.composeScalar=em});var vc=R(bc=>{"use strict";function nm(n,e,t){if(e){t===null&&(t=e.length);for(let s=t-1;s>=0;--s){let i=e[s];switch(i.type){case"space":case"comment":case"newline":n-=i.source.length;continue}for(i=e[++s];i?.type==="space";)n+=i.source.length,i=e[++s];break}}return n}bc.emptyScalarPosition=nm});var Ec=R(Zi=>{"use strict";var im=It(),rm=fc(),Sc=yc(),om=dt(),am=vc(),lm={composeNode:wc,composeEmptyNode:Xi};function wc(n,e,t,s){let{spaceBefore:i,comment:r,anchor:o,tag:a}=t,c,d=!0;switch(e.type){case"alias":c=cm(n,e,s),(o||a)&&s(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=Sc.composeScalar(n,e,a,s),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=rm.composeCollection(lm,n,e,a,s),o&&(c.anchor=o.source.substring(1));break;default:{let m=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;s(e,"UNEXPECTED_TOKEN",m),c=Xi(n,e.offset,void 0,null,t,s),d=!1}}return o&&c.anchor===""&&s(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),r&&(e.type==="scalar"&&e.source===""?c.comment=r:c.commentBefore=r),n.options.keepSourceTokens&&d&&(c.srcToken=e),c}function Xi(n,e,t,s,{spaceBefore:i,comment:r,anchor:o,tag:a,end:c},d){let m={type:"scalar",offset:am.emptyScalarPosition(e,t,s),indent:-1,source:""},p=Sc.composeScalar(n,m,a,d);return o&&(p.anchor=o.source.substring(1),p.anchor===""&&d(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(p.spaceBefore=!0),r&&(p.comment=r,p.range[2]=c),p}function cm({options:n},{offset:e,source:t,end:s},i){let r=new im.Alias(t.substring(1));r.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),r.source.endsWith(":")&&i(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+t.length,a=om.resolveEnd(s,o,n.strict,i);return r.range=[e,o,a.offset],a.comment&&(r.comment=a.comment),r}Zi.composeEmptyNode=Xi;Zi.composeNode=wc});var _c=R(Ac=>{"use strict";var um=zt(),kc=Ec(),fm=dt(),hm=Xt();function dm(n,e,{offset:t,start:s,value:i,end:r},o){let a=Object.assign({_directives:e},n),c=new um.Document(void 0,a),d={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},m=hm.resolveProps(s,{indicator:"doc-start",next:i??r?.[0],offset:t,onError:o,startOnNewline:!0});m.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!m.hasNewline&&o(m.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?kc.composeNode(d,i,m,o):kc.composeEmptyNode(d,m.end,s,null,m,o);let p=c.contents.range[2],v=fm.resolveEnd(r,p,!1,o);return v.comment&&(c.comment=v.comment),c.range=[t,p,v.offset],c}Ac.composeDoc=dm});var er=R(qc=>{"use strict";var pm=Qn(),mm=zt(),Zt=Gt(),Lc=Y(),gm=_c(),ym=dt();function es(n){if(typeof n=="number")return[n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];let{offset:e,source:t}=n;return[e,e+(typeof t=="string"?t.length:1)]}function Rc(n){let e="",t=!1,s=!1;for(let i=0;i<n.length;++i){let r=n[i];switch(r[0]){case"#":e+=(e===""?"":s?`

`:`
`)+(r.substring(1)||" "),t=!0,s=!1;break;case"%":n[i+1]?.[0]!=="#"&&(i+=1),t=!1;break;default:t||(s=!0),t=!1}}return{comment:e,afterEmptyLine:s}}var Oc=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,s,i,r)=>{let o=es(t);r?this.warnings.push(new Zt.YAMLWarning(o,s,i)):this.errors.push(new Zt.YAMLParseError(o,s,i))},this.directives=new pm.Directives({version:e.version||"1.2"}),this.options=e}decorate(e,t){let{comment:s,afterEmptyLine:i}=Rc(this.prelude);if(s){let r=e.contents;if(t)e.comment=e.comment?`${e.comment}
${s}`:s;else if(i||e.directives.docStart||!r)e.commentBefore=s;else if(Lc.isCollection(r)&&!r.flow&&r.items.length>0){let o=r.items[0];Lc.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${s}
${a}`:s}else{let o=r.commentBefore;r.commentBefore=o?`${s}
${o}`:s}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:Rc(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,s=-1){for(let i of e)yield*this.next(i);yield*this.end(t,s)}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(t,s,i)=>{let r=es(e);r[0]+=t,this.onError(r,"BAD_DIRECTIVE",s,i)}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=gm.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,s=new Zt.YAMLParseError(es(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(s):this.doc.errors.push(s);break}case"doc-end":{if(!this.doc){let s="Unexpected doc-end without preceding document";this.errors.push(new Zt.YAMLParseError(es(e),"UNEXPECTED_TOKEN",s));break}this.doc.directives.docEnd=!0;let t=ym.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let s=this.doc.comment;this.doc.comment=s?`${s}
${t.comment}`:t.comment}this.doc.range[2]=t.offset;break}default:this.errors.push(new Zt.YAMLParseError(es(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`))}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let s=Object.assign({_directives:this.directives},this.options),i=new mm.Document(void 0,s);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,t,t],this.decorate(i,!1),yield i}}};qc.Composer=Oc});var Cc=R(_n=>{"use strict";var bm=zi(),vm=Gi(),Sm=Gt(),Tc=Bt();function wm(n,e=!0,t){if(n){let s=(i,r,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(t)t(a,r,o);else throw new Sm.YAMLParseError([a,a+1],r,o)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return vm.resolveFlowScalar(n,e,s);case"block-scalar":return bm.resolveBlockScalar(n,e,s)}}return null}function Em(n,e){let{implicitKey:t=!1,indent:s,inFlow:i=!1,offset:r=-1,type:o="PLAIN"}=e,a=Tc.stringifyString({type:o,value:n},{implicitKey:t,indent:s>0?" ".repeat(s):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:s,source:`
`}];switch(a[0]){case"|":case">":{let d=a.indexOf(`
`),m=a.substring(0,d),p=a.substring(d+1)+`
`,v=[{type:"block-scalar-header",offset:r,indent:s,source:m}];return Ic(v,c)||v.push({type:"newline",offset:-1,indent:s,source:`
`}),{type:"block-scalar",offset:r,indent:s,props:v,source:p}}case'"':return{type:"double-quoted-scalar",offset:r,indent:s,source:a,end:c};case"'":return{type:"single-quoted-scalar",offset:r,indent:s,source:a,end:c};default:return{type:"scalar",offset:r,indent:s,source:a,end:c}}}function km(n,e,t={}){let{afterKey:s=!1,implicitKey:i=!1,inFlow:r=!1,type:o}=t,a="indent"in n?n.indent:null;if(s&&typeof a=="number"&&(a+=2),!o)switch(n.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let d=n.props[0];if(d.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=d.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let c=Tc.stringifyString({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:r,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":Am(n,c);break;case'"':tr(n,c,"double-quoted-scalar");break;case"'":tr(n,c,"single-quoted-scalar");break;default:tr(n,c,"scalar")}}function Am(n,e){let t=e.indexOf(`
`),s=e.substring(0,t),i=e.substring(t+1)+`
`;if(n.type==="block-scalar"){let r=n.props[0];if(r.type!=="block-scalar-header")throw new Error("Invalid block scalar header");r.source=s,n.source=i}else{let{offset:r}=n,o="indent"in n?n.indent:-1,a=[{type:"block-scalar-header",offset:r,indent:o,source:s}];Ic(a,"end"in n?n.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(n))c!=="type"&&c!=="offset"&&delete n[c];Object.assign(n,{type:"block-scalar",indent:o,props:a,source:i})}}function Ic(n,e){if(e)for(let t of e)switch(t.type){case"space":case"comment":n.push(t);break;case"newline":return n.push(t),!0}return!1}function tr(n,e,t){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=t,n.source=e;break;case"block-scalar":{let s=n.props.slice(1),i=e.length;n.props[0].type==="block-scalar-header"&&(i-=n.props[0].source.length);for(let r of s)r.offset+=i;delete n.props,Object.assign(n,{type:t,source:e,end:s});break}case"block-map":case"block-seq":{let s=n.offset+e.length,i={type:"newline",offset:s,indent:n.indent,source:`
`};delete n.items,Object.assign(n,{type:t,source:e,end:[i]});break}default:{let s="indent"in n?n.indent:-1,i="end"in n&&Array.isArray(n.end)?n.end.filter(r=>r.type==="space"||r.type==="comment"||r.type==="newline"):[];for(let r of Object.keys(n))r!=="type"&&r!=="offset"&&delete n[r];Object.assign(n,{type:t,indent:s,source:e,end:i})}}}_n.createScalarToken=Em;_n.resolveAsScalar=wm;_n.setScalarValue=km});var Pc=R(Nc=>{"use strict";var _m=n=>"type"in n?Rn(n):Ln(n);function Rn(n){switch(n.type){case"block-scalar":{let e="";for(let t of n.props)e+=Rn(t);return e+n.source}case"block-map":case"block-seq":{let e="";for(let t of n.items)e+=Ln(t);return e}case"flow-collection":{let e=n.start.source;for(let t of n.items)e+=Ln(t);for(let t of n.end)e+=t.source;return e}case"document":{let e=Ln(n);if(n.end)for(let t of n.end)e+=t.source;return e}default:{let e=n.source;if("end"in n&&n.end)for(let t of n.end)e+=t.source;return e}}}function Ln({start:n,key:e,sep:t,value:s}){let i="";for(let r of n)i+=r.source;if(e&&(i+=Rn(e)),t)for(let r of t)i+=r.source;return s&&(i+=Rn(s)),i}Nc.stringify=_m});var Bc=R($c=>{"use strict";var sr=Symbol("break visit"),Lm=Symbol("skip children"),Dc=Symbol("remove item");function Je(n,e){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),Mc(Object.freeze([]),n,e)}Je.BREAK=sr;Je.SKIP=Lm;Je.REMOVE=Dc;Je.itemAtPath=(n,e)=>{let t=n;for(let[s,i]of e){let r=t?.[s];if(r&&"items"in r)t=r.items[i];else return}return t};Je.parentCollection=(n,e)=>{let t=Je.itemAtPath(n,e.slice(0,-1)),s=e[e.length-1][0],i=t?.[s];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Mc(n,e,t){let s=t(e,n);if(typeof s=="symbol")return s;for(let i of["key","value"]){let r=e[i];if(r&&"items"in r){for(let o=0;o<r.items.length;++o){let a=Mc(Object.freeze(n.concat([[i,o]])),r.items[o],t);if(typeof a=="number")o=a-1;else{if(a===sr)return sr;a===Dc&&(r.items.splice(o,1),o-=1)}}typeof s=="function"&&i==="key"&&(s=s(e,n))}}return typeof s=="function"?s(e,n):s}$c.visit=Je});var On=R(ne=>{"use strict";var nr=Cc(),Rm=Pc(),Om=Bc(),ir="\uFEFF",rr="",or="",ar="",qm=n=>!!n&&"items"in n,Tm=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function Im(n){switch(n){case ir:return"<BOM>";case rr:return"<DOC>";case or:return"<FLOW_END>";case ar:return"<SCALAR>";default:return JSON.stringify(n)}}function Cm(n){switch(n){case ir:return"byte-order-mark";case rr:return"doc-mode";case or:return"flow-error-end";case ar:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(n[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}ne.createScalarToken=nr.createScalarToken;ne.resolveAsScalar=nr.resolveAsScalar;ne.setScalarValue=nr.setScalarValue;ne.stringify=Rm.stringify;ne.visit=Om.visit;ne.BOM=ir;ne.DOCUMENT=rr;ne.FLOW_END=or;ne.SCALAR=ar;ne.isCollection=qm;ne.isScalar=Tm;ne.prettyToken=Im;ne.tokenType=Cm});var ur=R(xc=>{"use strict";var ts=On();function he(n){switch(n){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}var Fc="0123456789ABCDEFabcdef".split(""),Nm="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),lr=",[]{}".split(""),Pm=` ,[]{}
\r	`.split(""),cr=n=>!n||Pm.includes(n),jc=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(e,t=!1){e&&(this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null),this.atEnd=!t;let s=this.next??"stream";for(;s&&(t||this.hasChars(1));)s=yield*this.parseNext(s)}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return!t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let s=0;for(;t===" ";)t=this.buffer[++s+e];if(t==="\r"){let i=this.buffer[s+e+1];if(i===`
`||!i&&!this.atEnd)return e+s+1}return t===`
`||s>=this.indentNext||!t&&!this.atEnd?e+s:-1}if(t==="-"||t==="."){let s=this.buffer.substr(e,3);if((s==="---"||s==="...")&&he(this.buffer[e+3]))return-1}return e}getLine(){let e=this.lineEndPos;return(typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===ts.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,s=e.indexOf("#");if(s!==-1){let r=e[s-1];(r===" "||r==="	")&&(t=s-1)}for(;;){let r=e[t-1];if(r===" "||r==="	")t-=1;else break}let i=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield ts.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let t=this.peek(3);if(t==="---"&&he(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(t==="..."&&he(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!he(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&he(t)){let s=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=s,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(cr),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,s=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=s=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((s!==-1&&s<this.indentNext&&i[0]!=="#"||s===0&&(i.startsWith("---")||i.startsWith("..."))&&he(i[3]))&&!(s===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield ts.FLOW_END,yield*this.parseLineStart();let r=0;for(;i[r]===",";)r+=yield*this.pushCount(1),r+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(r+=yield*this.pushIndicators(),i[r]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-r),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(cr),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||he(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let r=0;for(;this.buffer[t-1-r]==="\\";)r+=1;if(r%2===0)break;t=this.buffer.indexOf('"',t+1)}let s=this.buffer.substring(0,t),i=s.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let r=this.continueScalar(i+1);if(r===-1)break;i=s.indexOf(`
`,r)}i!==-1&&(t=i-(s[i-1]==="\r"?2:1))}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>he(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,s;e:for(let i=this.pos;s=this.buffer[i];++i)switch(s){case" ":t+=1;break;case`
`:e=i,t=0;break;case"\r":{let r=this.buffer[i+1];if(!r&&!this.atEnd)return this.setNext("block-scalar");if(r===`
`)break}default:break e}if(!s&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext+=this.blockScalarIndent;do{let i=this.continueScalar(e+1);if(i===-1)break;e=this.buffer.indexOf(`
`,i)}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length}}if(!this.blockScalarKeep)do{let i=e-1,r=this.buffer[i];r==="\r"&&(r=this.buffer[--i]);let o=i;for(;r===" "||r==="	";)r=this.buffer[--i];if(r===`
`&&i>=this.pos&&i+1+t>o)e=i;else break}while(!0);return yield ts.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,t=this.pos-1,s=this.pos-1,i;for(;i=this.buffer[++s];)if(i===":"){let r=this.buffer[s+1];if(he(r)||e&&r===",")break;t=s}else if(he(i)){let r=this.buffer[s+1];if(i==="\r"&&(r===`
`?(s+=1,i=`
`,r=this.buffer[s+1]):t=s),r==="#"||e&&lr.includes(r))break;if(i===`
`){let o=this.continueScalar(s+1);if(o===-1)break;s=Math.max(s,o-2)}}else{if(e&&lr.includes(i))break;t=s}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield ts.SCALAR,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let s=this.buffer.slice(this.pos,e);return s?(yield s,this.pos+=s.length,s.length):(t&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(cr))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(he(t)||e&&lr.includes(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!he(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else{let e=this.pos+1,t=this.buffer[e];for(;t;)if(Nm.includes(t))t=this.buffer[++e];else if(t==="%"&&Fc.includes(this.buffer[e+1])&&Fc.includes(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,s;do s=this.buffer[++t];while(s===" "||e&&s==="	");let i=t-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=t),i}*pushUntil(e){let t=this.pos,s=this.buffer[t];for(;!e(s);)s=this.buffer[++t];return yield*this.pushToIndex(t,!1)}};xc.Lexer=jc});var fr=R(Uc=>{"use strict";var Vc=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,s=this.lineStarts.length;for(;t<s;){let r=t+s>>1;this.lineStarts[r]<e?t=r+1:s=r}if(this.lineStarts[t]===e)return{line:t+1,col:1};if(t===0)return{line:0,col:e};let i=this.lineStarts[t-1];return{line:t,col:e-i+1}}}};Uc.LineCounter=Vc});var hr=R(zc=>{"use strict";var Kc=On(),Dm=ur();function ge(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return!0;return!1}function Yc(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return-1}function Jc(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function qn(n){switch(n.type){case"document":return n.start;case"block-map":{let e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return[]}}function mt(n){if(n.length===0)return[];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function Wc(n){if(n.start.type==="flow-seq-start")for(let e of n.items)e.sep&&!e.value&&!ge(e.start,"explicit-key-ind")&&!ge(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,Jc(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep)}var Hc=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Dm.Lexer,this.onNewLine=e}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let s of this.lexer.lex(e,t))yield*this.next(s);t||(yield*this.end())}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",Kc.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let t=Kc.tokenType(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=e.length}else{let s=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:s,source:e}),this.offset+=e.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop()}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=e??this.stack.pop();if(t)if(this.stack.length===0)yield t;else{let s=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in s?s.indent:0:t.type==="flow-collection"&&s.type==="document"&&(t.indent=0),t.type==="flow-collection"&&Wc(t),s.type){case"document":s.value=t;break;case"block-scalar":s.props.push(t);break;case"block-map":{let i=s.items[s.items.length-1];if(i.value){s.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=t;else{Object.assign(i,{key:t,sep:[]}),this.onKeyLine=!ge(i.start,"explicit-key-ind");return}break}case"block-seq":{let i=s.items[s.items.length-1];i.value?s.items.push({start:[],value:t}):i.value=t;break}case"flow-collection":{let i=s.items[s.items.length-1];!i||i.value?s.items.push({start:[],key:t,sep:[]}):i.sep?i.value=t:Object.assign(i,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t)}if((s.type==="document"||s.type==="block-map"||s.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){let i=t.items[t.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Yc(i.start)===-1&&(t.indent===0||i.start.every(r=>r.type!=="comment"||r.indent<t.indent))&&(s.type==="document"?s.end=i.start:s.items.push({start:i.start}),t.items.splice(-1,1))}}else{let s="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:s}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{Yc(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let t=this.startBlockValue(e);t?this.stack.push(t):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(e){if(this.type==="map-value-ind"){let t=qn(this.peek(2)),s=mt(t),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let r={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=r}else yield*this.lineEnd(e)}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){let s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else{if(this.atIndentedComment(t.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return}if(this.indent>=e.indent){let s=!this.onKeyLine&&this.indent===e.indent&&t.sep,i=[];if(s&&t.sep&&!t.value){let r=[];for(let o=0;o<t.sep.length;++o){let a=t.sep[o];switch(a.type){case"newline":r.push(o);break;case"space":break;case"comment":a.indent>e.indent&&(r.length=0);break;default:r.length=0}}r.length>=2&&(i=t.sep.splice(r[1]))}switch(this.type){case"anchor":case"tag":s||t.value?(i.push(this.sourceToken),e.items.push({start:i}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!ge(t.start,"explicit-key-ind")?t.start.push(this.sourceToken):s||t.value?(i.push(this.sourceToken),e.items.push({start:i})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(ge(t.start,"explicit-key-ind"))if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if(ge(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:i,key:null,sep:[this.sourceToken]}]});else if(Jc(t.key)&&!ge(t.sep,"newline")){let r=mt(t.start),o=t.key,a=t.sep;a.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:o,sep:a}]})}else i.length>0?t.sep=t.sep.concat(i,this.sourceToken):t.sep.push(this.sourceToken);else if(ge(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else{let r=mt(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]})}else t.sep?t.value||s?e.items.push({start:i,key:null,sep:[this.sourceToken]}):ge(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let r=this.flowScalar(this.type);s||t.value?(e.items.push({start:i,key:r,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(r):(Object.assign(t,{key:r,sep:[]}),this.onKeyLine=!0);return}default:{let r=this.startBlockValue(e);if(r){s&&r.type!=="block-seq"&&ge(t.start,"explicit-key-ind")&&e.items.push({start:i}),this.stack.push(r);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){let s="end"in t.value?t.value.end:void 0;(Array.isArray(s)?s[s.length-1]:void 0)?.type==="comment"?s?.push(this.sourceToken):e.items.push({start:[this.sourceToken]})}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(t.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken)}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||ge(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){let s=this.startBlockValue(e);if(s){this.stack.push(s);return}}yield*this.pop(),yield*this.step()}*flowCollection(e){let t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let s;do yield*this.pop(),s=this.peek(1);while(s&&s.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:i,sep:[]}):t.sep?this.stack.push(i):Object.assign(t,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let s=this.startBlockValue(e);s?this.stack.push(s):(yield*this.pop(),yield*this.step())}else{let s=this.peek(2);if(s.type==="block-map"&&(this.type==="map-value-ind"&&s.indent===e.indent||this.type==="newline"&&!s.items[s.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&s.type!=="flow-collection"){let i=qn(s),r=mt(i);Wc(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(e)}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1}return{type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=qn(e),s=mt(t);return s.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s}]}}case"map-value-ind":{this.onKeyLine=!0;let t=qn(e),s=mt(t);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(s=>s.type==="newline"||s.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};zc.Parser=Hc});var eu=R(ns=>{"use strict";var Qc=er(),Mm=zt(),ss=Gt(),$m=ri(),Bm=fr(),Gc=hr();function Xc(n){let e=n.prettyErrors!==!1;return{lineCounter:n.lineCounter||e&&new Bm.LineCounter||null,prettyErrors:e}}function Fm(n,e={}){let{lineCounter:t,prettyErrors:s}=Xc(e),i=new Gc.Parser(t?.addNewLine),r=new Qc.Composer(e),o=Array.from(r.compose(i.parse(n)));if(s&&t)for(let a of o)a.errors.forEach(ss.prettifyError(n,t)),a.warnings.forEach(ss.prettifyError(n,t));return o.length>0?o:Object.assign([],{empty:!0},r.streamInfo())}function Zc(n,e={}){let{lineCounter:t,prettyErrors:s}=Xc(e),i=new Gc.Parser(t?.addNewLine),r=new Qc.Composer(e),o=null;for(let a of r.compose(i.parse(n),!0,n.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new ss.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return s&&t&&(o.errors.forEach(ss.prettifyError(n,t)),o.warnings.forEach(ss.prettifyError(n,t))),o}function jm(n,e,t){let s;typeof e=="function"?s=e:t===void 0&&e&&typeof e=="object"&&(t=e);let i=Zc(n,t);if(!i)return null;if(i.warnings.forEach(r=>$m.warn(i.options.logLevel,r)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:s},t))}function xm(n,e,t){let s=null;if(typeof e=="function"||Array.isArray(e)?s=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){let i=Math.round(t);t=i<1?void 0:i>8?{indent:8}:{indent:i}}if(n===void 0){let{keepUndefined:i}=t??e??{};if(!i)return}return new Mm.Document(n,s,t).toString(t)}ns.parse=jm;ns.parseAllDocuments=Fm;ns.parseDocument=Zc;ns.stringify=xm});var su=R(W=>{"use strict";var Vm=er(),Um=zt(),Km=Fi(),dr=Gt(),Ym=It(),Me=Y(),Wm=_e(),Jm=Q(),Hm=Ye(),zm=We(),Qm=On(),Gm=ur(),Xm=fr(),Zm=hr(),Tn=eu(),tu=Ot();W.Composer=Vm.Composer;W.Document=Um.Document;W.Schema=Km.Schema;W.YAMLError=dr.YAMLError;W.YAMLParseError=dr.YAMLParseError;W.YAMLWarning=dr.YAMLWarning;W.Alias=Ym.Alias;W.isAlias=Me.isAlias;W.isCollection=Me.isCollection;W.isDocument=Me.isDocument;W.isMap=Me.isMap;W.isNode=Me.isNode;W.isPair=Me.isPair;W.isScalar=Me.isScalar;W.isSeq=Me.isSeq;W.Pair=Wm.Pair;W.Scalar=Jm.Scalar;W.YAMLMap=Hm.YAMLMap;W.YAMLSeq=zm.YAMLSeq;W.CST=Qm;W.Lexer=Gm.Lexer;W.LineCounter=Xm.LineCounter;W.Parser=Zm.Parser;W.parse=Tn.parse;W.parseAllDocuments=Tn.parseAllDocuments;W.parseDocument=Tn.parseDocument;W.stringify=Tn.stringify;W.visit=tu.visit;W.visitAsync=tu.visitAsync});var ng={};Sf(ng,{activate:()=>tg,deactivate:()=>sg});module.exports=wf(ng);var mr=ye(require("net")),gt=ye(require("vscode")),lu=require("crypto"),cu=require("os"),pr=require("path"),uu=require("process");var F=ye(Go()),ia=ye(ea());var na=require("events"),Yn=ye(Un()),Pf=require("fs"),Df=Kn(),Rt=class{constructor(e,t,s,i){this.name=e;this._value=t;this.type=s;this.size=i}get value(){return this._value}set value(e){this._value=e}};var Wn=class extends na.EventEmitter{constructor(){super();this._sourceFile="";this.variables=new Map;this.cwd="";this.stopOnEntry=!0;this.cmd_delimiter="end_cmd_semaphore";this.stdout_data=[];this.launch_done=new Yn.Subject;this.pending_data=new Yn.Subject;this.sendOutputToClient=!0;this.largeExpectedOutput=!1;this.sourceLines=[];this.scopes=[];this._currentLine=0;this.stepping=!1;this.stopHit=!1;this.stopEventString="stopOnBreakpoint";this.instruction=0;this.breakPoints=new Map;this.dataBreakpoints=new Array;this.breakpointId=1;this.ls=require("child_process").spawn("/bin/sh",{shell:!1});this.readline=require("readline");this.readline_interface=this.readline.createInterface({input:this.ls.stdout});this.messageQueue=Df.queue((e,t)=>{if(e.search(/\$finish;/)!==-1)this.sendSimulatorTerminalCommand("exit");else if(e.search("./run_sim.sh")!==-1)this.ls.kill(),this.sendEvent("end");else if(e.search(/Created stop 1:/)!==-1)console.log("DETECTED INITIAL STOP"),this.sendSimulatorTerminalCommand("run"),this.stopHit=!0;else if(e.search(/\(stop\s(\d+|[a-z_][a-z0-9_\[\]\.]*):/)!==-1)e.search(/\(stop\s\d+/)!==-1?this.stopEventString="stopOnBreakpoint":this.stopEventString="stopOnDataBreakpoint",this.stopHit=!0;else if(this.stopHit&&e.search(/(..\/)*[a-z_][a-z0-9_\/]*\.(sv|v|vams|vh|svh):\d+\s/)!==-1){this.stopHit=!1;let i=e.search(/:\d+\s/),r=e.substring(0,i),o=e.substring(e.search(/:\d+\s/)+1,e.indexOf(" ",i));this._sourceFile=this.cwd+"/"+r,this.currentLine=parseInt(o)-1,console.log("BREAKPOINT HIT"),this.sendEvent(this.stopEventString)}else if(this.stepping&&e.search(/(xcelium>\s)?\S+\.(sv|v|vams|vh|svh):\d+\s/)!==-1){let i=e.search(/:\d+\s/);var s=/:\d+\s/.exec(e);let r="";s&&(r=s[0].substring(1,s[0].length-1));let o=this.cwd+"/"+e.substring(e.substring(0,i).search(/\S*$/));Pf.existsSync(o)&&(this._sourceFile=o),this.currentLine=parseInt(r)-1,this.stepping=!1,console.log("STOP ON STEP"),this.sendEvent("stopOnStep")}else e.search(/End-of-build$/)!==-1?(this.stopOnEntry||this.sendSimulatorTerminalCommand("run"),this.launch_done.notify()):this.sendOutputToClient==!0?this.sendEvent("output","out",e,"",0,0):console.log(e);t(null)},1);this.ls.stdout.setEncoding("utf-8"),this.ls.stdout.on("data",e=>{let t=e.split(/\r?\n/);for(var s of t){if(this.largeExpectedOutput&&s.includes(this.cmd_delimiter)){this.pending_data.notify();break}s=s.replace(/^xcelium>/,""),this.stdout_data.push(s)}this.largeExpectedOutput||this.pending_data.notify()}),this.readline_interface.on("line",e=>{this.messageQueue.push(e,(t,s)=>{t&&console.log(`An error occurred while processing line ${s}`)})}),this.ls.stderr.on("data",e=>{console.log(`stderr: ${e}`)}),this.ls.on("error",e=>{console.log(`error: ${e.message}`)}),this.ls.on("close",e=>{console.log(`child process exited with code ${e}`)})}get sourceFile(){return this._sourceFile}get currentLine(){return this._currentLine}set currentLine(e){this._currentLine=e}async start(e,t,s,i,r){this.cwd=e,this.stopOnEntry=i,this.cwd.length>0&&this.sendSimulatorTerminalCommand("cd "+this.cwd),r?this.sendSimulatorTerminalCommand("./"+t+" "+s+" -i"):this.sendSimulatorTerminalCommand("./"+t+" "+s),await this.launch_done.wait(5e3)}terminate(){this.sendSimulatorTerminalCommand("exit")}continue(){console.log("RUNTIME.CONTINUE"),this.sendSimulatorTerminalCommand("run")}step(){this.stepping=!0,this._sourceFile.search(/\.svh?$/)!==-1?this.sendSimulatorTerminalCommand("run -next"):this.sendSimulatorTerminalCommand("run -adjacent")}stepIn(e){this.stepping=!0,this._sourceFile.search(/\.svh?$/)!==-1?this.sendSimulatorTerminalCommand("run -step"):this.sendSimulatorTerminalCommand("run -adjacent")}stepOut(){this.stepping=!0,this._sourceFile.search(/\.svh?$/)!==-1?this.sendSimulatorTerminalCommand("run -return"):this.sendSimulatorTerminalCommand("run -step")}getStepInTargets(e){let t=this.getLine(),s=this.getWords(this.currentLine,t);if(e<0||e>=s.length)return[];let{name:i,index:r}=s[e];return i.split("").map((o,a)=>({id:r+a,label:`target: ${o}`}))}async stack(e,t){return this.sendCommandWaitResponse("stack",5e3,!0).then(s=>{let i=[],r=[],o=[];for(;s.length>0;){let p=s.shift();if(p&&p.search(/\d.*\sat\s/)!==-1){let v=p.substring(0,p.search(/\sat\s/)),E=p.search(/:\d+$/),L=p.substring(E+1),A=p.substring(p.search(/\sat\s/)+4,E);i.push(v),A.substring(0,3)=="../"?r.push(this.cwd.substring(0,this.cwd.lastIndexOf("/"))+A.substring(2)):r.push(A),o.push(Number(L))}}let a=[];for(let p=e;p<Math.min(t,i.length);p++){let v={index:p,name:i[p],file:r[p],line:o[p]-1,column:0,instruction:void 0};a.push(v)}var c=[];if(i.length){let p=i[0].substring(i[0].lastIndexOf(" ")+1);var d=/\./g;do{var m=d.exec(p);m&&c.push(p.substring(0,m.index))}while(m);c.push(p)}return this.scopes=c,{frames:a,count:i.length}})}getScopes(){return this.scopes}async getBreakpoints(){return this.sendCommandWaitResponse("stop -show").then(e=>{var t=[];for(var s of e){let i=/^(\d+)\s/.exec(s);i&&t.push(parseInt(i[1]))}return t})}formatConditionToTcl(e){var s=/^\s*{?\s*#?([a-z_][a-z0-9_\.\[\]]*)\s*(=|==|===|!=|!==|>|>=|<|<=)\s*((\d*'(b|h|d))?[a-f0-9x]*|"[^"]*")\s*}?\s*$/i.exec(e);if(s){var i=s[1],r=s[2],o=s[3];return`{#${i} ${r} ${o}}`}else return}setBreakPoint(e,t,s,i){let r={verified:!0,line:t,id:this.breakpointId++};var o=`stop -create -file ${e} -line ${t} -all -name ${r.id}`;if(s)o+=` -skip ${s}`;else if(i){let c=this.formatConditionToTcl(i);c&&(o+=` -if ${c}`)}this.sendSimulatorTerminalCommand(o);let a=this.breakPoints.get(e);return a||(a=new Array,this.breakPoints.set(e,a)),a.push(r),r}clearBreakpoints(e){let t=this.breakPoints.get(e);t&&t.forEach(s=>{this.sendSimulatorTerminalCommand("stop -delete "+s.id)}),this.breakPoints.delete(e)}async setDataBreakpoint(e){this.dataBreakpoints.push(e);let t=await this.sendCommandWaitResponse("stop -create -object "+e+" -name "+e),s=!1;return t.forEach(i=>{i.search(/\*E,STCRDP/)!==-1&&(s=!0)}),!s}clearAllDataBreakpoints(){this.dataBreakpoints.length>0&&(this.sendSimulatorTerminalCommand(`stop -delete ${this.dataBreakpoints.join(" ")}`),this.dataBreakpoints=[])}async parseSimulatorVariablesResponse(e,t){let s=["bit","byte","shortint","int","longint","reg","logic","integer","time","shortreal","real","realtime","string","enum","process"],i=["enum","reg","logic"],r=["static","const","local","protected","rand","unsigned","signed"],o=new Array,a=[],c="",d="",m="",p="",v=1,E;switch(t){case"scope":for(a=await this.sendCommandWaitResponse("describe "+e,1e4,!0);a.length>0;)if(c=a.shift(),c&&c.search("=")!==-1){let L=c.search(/\s[a-z_][a-z0-9_]*(\s\[.*\])?\s=/i);if(d=c.substring(0,L).replace(new RegExp(`(${r.join("|")})`,"g"),"").trimLeft(),m=c.substring(L,c.search("=")).replace(/\s/g,""),p=c.substring(c.search("=")+1).replace(/(\s+)?\(.*\)/g,"").trimLeft(),v=1,!s.includes(d)&&!new RegExp(`^(${i.join("|")})\\s`,"g").test(d)){let b=(await this.sendCommandWaitResponse("describe "+d)).shift();b&&b.search(/typedef\s/)!==-1&&(d+=` (${b.substring(b.search(/typedef\s/)+8).replace(/\s?{.*$/,"")})`)}(m.search(/\[\$\]/)!==-1||d.search(/\squeue/)!==-1)&&(v=parseInt(p),p="("+v+") "+d,d.search(/\squeue/)===-1&&(d+=" queue"),m=m.replace(/\[\$\]/,"")),o.push(new Rt(m,p,d,v))}break;case"structuredVariable":if(a=await this.sendCommandWaitResponse("describe "+e),c=a.shift(),c){let L=parseInt(c.substring(c.search("=")+1).replace(/\s/g,""));isNaN(L)?v=0:v=L,(E=/variable\s[a-z_][a-z0-9_]*\s/.exec(c))!==null?d=E[0].substring(9,E[0].length-1):d="unknown"}if(d!=="unknown")if(a=await this.sendCommandWaitResponse("describe "+d),c=a.shift(),c&&c.search(/struct/)!==-1&&(d+=" struct"),v>0)for(let L=0;L<v;L++)a=await this.sendCommandWaitResponse("describe "+e+"["+L+"]"),c=a.shift(),c&&(m=e+"["+L+"]",d.search(/struct/)===-1&&((E=/variable\s[a-z_][a-z0-9_]*\s/.exec(c))!==null&&(d=E[0].substring(9,E[0].length-1)),p=c.substring(c.search("=")+1)),o.push(new Rt(m,p,d,0)));else{let L=[],A=[];for(;a.length>0;)if(c=a.shift(),c&&c.search(/}/)===-1&&c.search(/\S/)!==-1){let b=c.search(/\s[a-z_][a-z0-9_]*$/);A.push(c.substring(0,b)),L.push(c.substring(b+1))}for(let b=0;b<L.length;b++)a=await this.sendCommandWaitResponse("describe "+e+"."+L[b]),c=a.shift(),c&&c.search(/\*E,PVLIDX/)===-1&&(p=c.substring(c.search("=")+1),o.push(new Rt(L[b],p,A[b],0)))}break}return o}async fetchVariables(e){let t=this.scopes.includes(e)?"scope":"structuredVariable";return this.variables.delete(e),this.parseSimulatorVariablesResponse(e,t).then(s=>(this.variables.set(e,s),s))}async fetchVariable(e){let t=[],s;for(let[r,o]of this.variables.entries())o.forEach(a=>{a.name==e&&(s=a)});await this.sendCommandWaitResponse("value -verbose "+e);let i=this.stdout_data.shift();return i&&(t=i.split("="),s=new Rt(e,t[1],"unknown")),s}getVariable(e){for(let[t,s]of this.variables.entries())for(let i of s)if(i.name==e)return i}setVariable(e,t){this.sendSimulatorTerminalCommand("deposit "+e+" = #"+t+" -after 0 -relative")}getLine(e){return this.sourceLines[e===void 0?this.currentLine:e].trim()}getWords(e,t){let s=/[a-z]+/ig,i=[],r;for(;r=s.exec(t);)i.push({name:r[0],line:e,index:r.index});return i}sendEvent(e,...t){setTimeout(()=>{this.emit(e,...t)},0)}sendSimulatorTerminalCommand(e,t=!1){this.ls.stdin.cork(),this.ls.stdin.write(e+`
`),this.ls.stdin.uncork(),t||console.log("Terminal command sent: "+e)}async sendCommandWaitResponse(e,t=5e3,s=!1){return this.stdout_data=[],this.sendOutputToClient=!1,this.sendSimulatorTerminalCommand(e),this.largeExpectedOutput=s,s&&this.sendSimulatorTerminalCommand(`puts ${this.cmd_delimiter}`,!0),await this.pending_data.wait(t),this.sendOutputToClient=!0,this.stdout_data}};var ra=ye(Un()),oa=ye(Lt()),Mf=Kn(),Se=class extends F.LoggingDebugSession{constructor(e){super("xrun-debug.txt");this._variableHandles=new F.Handles;this.problemMatchers=[];this._configurationDone=new ra.Subject;this._cancellationTokens=new Map;this._valuesInHex=!0;this._useInvalidatedEvent=!1;this.variablesRequestQueue=Mf.queue((e,t)=>{var s=e.args,i=e.response;let r=this._variableHandles.get(s.variablesReference);console.log("Requesting variables for "+r),this._runtime.fetchVariables(r).then(o=>{i.body={variables:o.map(a=>this.convertFromRuntime(a))},console.log("Sending variables response for "+r),this.sendResponse(i),t(null)}).catch(()=>{this.sendResponse(i),t(new Error(`Error requesting variables for + ${r}`))})},1);this.setDebuggerLinesStartAt1(!1),this.setDebuggerColumnsStartAt1(!1),this._runtime=new Wn,this._runtime.on("stopOnEntry",()=>{this.sendEvent(new F.StoppedEvent("entry",Se.threadID))}),this._runtime.on("stopOnStep",()=>{this.sendEvent(new F.StoppedEvent("step",Se.threadID))}),this._runtime.on("stopOnBreakpoint",()=>{this.sendEvent(new F.StoppedEvent("breakpoint",Se.threadID))}),this._runtime.on("stopOnDataBreakpoint",()=>{this.sendEvent(new F.StoppedEvent("data breakpoint",Se.threadID))}),this._runtime.on("stopOnInstructionBreakpoint",()=>{this.sendEvent(new F.StoppedEvent("instruction breakpoint",Se.threadID))}),this._runtime.on("stopOnException",t=>{t?this.sendEvent(new F.StoppedEvent(`exception(${t})`,Se.threadID)):this.sendEvent(new F.StoppedEvent("exception",Se.threadID))}),this._runtime.on("breakpointValidated",t=>{this.sendEvent(new F.BreakpointEvent("changed",{verified:t.verified,id:t.id}))}),this._runtime.on("output",(t,s,i,r,o)=>{let a;switch(t){case"prio":a="important";break;case"out":a="stdout";break;case"err":a="stderr";break;default:a="console";break}this.problemMatchers.forEach(d=>{s.search(d)!==-1&&(a="stderr")});let c=new F.OutputEvent(`${s}
`,a);(s==="start"||s==="startCollapsed"||s==="end")&&(c.body.group=s,c.body.output=`group-${s}
`),c.body.source=this.createSource(i),c.body.line=this.convertDebuggerLineToClient(r),c.body.column=this.convertDebuggerColumnToClient(o),this.sendEvent(c)}),this._runtime.on("end",()=>{let t=new F.OutputEvent(`[Xrun-Debug] Simulation ended, terminating xrun host process
`,"important");this.sendEvent(t),this.sendEvent(new F.TerminatedEvent)})}initializeRequest(e,t){t.supportsInvalidatedEvent&&(this._useInvalidatedEvent=!0),e.body=e.body||{},e.body.supportsConfigurationDoneRequest=!0,e.body.supportsEvaluateForHovers=!0,e.body.supportsStepBack=!1,e.body.supportsDataBreakpoints=!0,e.body.supportsConditionalBreakpoints=!0,e.body.supportsHitConditionalBreakpoints=!0,e.body.supportsCompletionsRequest=!1,e.body.completionTriggerCharacters=[".","["],e.body.supportsCancelRequest=!0,e.body.supportsBreakpointLocationsRequest=!1,e.body.supportsStepInTargetsRequest=!0,e.body.supportsExceptionInfoRequest=!1,e.body.supportsSetVariable=!0,e.body.supportsSetExpression=!0,e.body.supportsDisassembleRequest=!0,e.body.supportsSteppingGranularity=!0,e.body.supportsInstructionBreakpoints=!0,e.body.supportsReadMemoryRequest=!1,e.body.supportsWriteMemoryRequest=!1,e.body.supportSuspendDebuggee=!0,e.body.supportTerminateDebuggee=!0,e.body.supportsFunctionBreakpoints=!0,this.sendResponse(e)}configurationDoneRequest(e,t){super.configurationDoneRequest(e,t),this._configurationDone.notify()}disconnectRequest(e,t,s){if(t.terminateDebuggee){let i=new F.OutputEvent(`[Xrun-Debug] Simulation aborted, terminating xrun host process
`,"important");this.sendEvent(i),this._runtime.terminate()}console.log(`disconnectRequest suspend: ${t.suspendDebuggee}, terminate: ${t.terminateDebuggee}`)}async launchRequest(e,t){F.logger.setup(oa.LogLevel.Verbose,!1),this.problemMatchers=t.problemMatchers,await this._runtime.start(t.cwd,t.program,t.args,!!t.stopOnEntry,!t.noDebug),this.sendEvent(new F.InitializedEvent),await this._configurationDone.wait(1e3),this.sendResponse(e)}setFunctionBreakPointsRequest(e,t,s){this.sendResponse(e)}async setBreakPointsRequest(e,t){let s=t.source.path;this._runtime.clearBreakpoints(s);let i=(t.breakpoints||[]).map(o=>{let a=this._runtime.setBreakPoint(s,o.line,o.hitCondition,o.condition),c=new F.Breakpoint(a.verified,a.line);return c.id=a.id,c}),r=await this._runtime.getBreakpoints();e.body={breakpoints:i.filter(o=>o.id&&r.includes(o.id))},this.sendResponse(e)}threadsRequest(e){e.body={threads:[new F.Thread(Se.threadID,"thread 1")]},this.sendResponse(e)}async stackTraceRequest(e,t){let s=typeof t.startFrame=="number"?t.startFrame:0,i=typeof t.levels=="number"?t.levels:1e3,r=s+i,o=await this._runtime.stack(s,r);e.body={stackFrames:o.frames.map((a,c)=>{let d=new F.StackFrame(a.index,a.name,this.createSource(a.file),this.convertDebuggerLineToClient(a.line));return typeof a.column=="number"&&(d.column=this.convertDebuggerColumnToClient(a.column)),d}),totalFrames:o.count},this.sendResponse(e)}scopesRequest(e,t){this._variableHandles.reset();let s=this._runtime.getScopes(),i=[];s.map(r=>{i.push(new F.Scope(r,this._variableHandles.create(r),!1))}),e.body={scopes:i},this.sendResponse(e)}async variablesRequest(e,t,s){this.variablesRequestQueue.push({args:t,response:e},i=>{i&&console.error(i.message)})}setVariableRequest(e,t){let s=this._runtime.getVariable(t.name),i=/\d*?('(d|h|b))[0-9a-f]+/ig;s&&(s.type.search(/^string/)!==-1?t.value.search(i)!==-1&&this._runtime.setVariable(t.name,t.value):this._runtime.setVariable(t.name,t.value),e.body=this.convertFromRuntime(s)),this.sendResponse(e)}continueRequest(e,t){this._runtime.continue(),this.sendResponse(e)}nextRequest(e,t){this._runtime.step(),this.sendResponse(e)}stepInTargetsRequest(e,t){let s=this._runtime.getStepInTargets(t.frameId);e.body={targets:s.map(i=>({id:i.id,label:i.label}))},this.sendResponse(e)}stepInRequest(e,t){this._runtime.stepIn(t.targetId),this.sendResponse(e)}stepOutRequest(e,t){this._runtime.stepOut(),this.sendResponse(e)}async evaluateRequest(e,t){let s,i;switch(t.context){case"repl":case"hover":case"variables":case"watch":i=this._runtime.getVariable(t.expression),i||(i=await this._runtime.fetchVariable(t.expression));break}if(i){let r=this.convertFromRuntime(i);e.body={result:r.value,type:r.type,variablesReference:r.variablesReference,presentationHint:r.presentationHint}}else e.body={result:s||`evaluate(context: '${t.context}', '${t.expression}')`,variablesReference:0};this.sendResponse(e)}setExpressionRequest(e,t){if(t.expression.startsWith("$")){let s=this._runtime.getVariable(t.expression.substring(1));s?(s.value=this.convertToRuntime(t.value),e.body=this.convertFromRuntime(s),this.sendResponse(e)):this.sendErrorResponse(e,{id:1002,format:"variable '{lexpr}' not found",variables:{lexpr:t.expression},showUser:!0})}else this.sendErrorResponse(e,{id:1003,format:"'{lexpr}' not an assignable expression",variables:{lexpr:t.expression},showUser:!0})}dataBreakpointInfoRequest(e,t){if(e.body={dataId:null,description:"cannot break on data access",accessTypes:void 0,canPersist:!1},t.variablesReference){let s=this._variableHandles.get(t.variablesReference);e.body.dataId=s+"."+t.name}else e.body.dataId=t.name;e.body.description=t.name,e.body.accessTypes=["write"],e.body.canPersist=!1,this.sendResponse(e)}async setDataBreakpointsRequest(e,t){this._runtime.clearAllDataBreakpoints(),e.body={breakpoints:[]};for(let s of t.breakpoints)await this._runtime.setDataBreakpoint(s.dataId)&&e.body.breakpoints.push({verified:!0});this.sendResponse(e)}completionsRequest(e,t){e.body={targets:[{label:"item 10",sortText:"10"},{label:"item 1",sortText:"01",detail:"detail 1"},{label:"item 2",sortText:"02",detail:"detail 2"},{label:"array[]",selectionStart:6,sortText:"03"},{label:"func(arg)",selectionStart:5,selectionLength:3,sortText:"04"}]},this.sendResponse(e)}cancelRequest(e,t){t.requestId&&this._cancellationTokens.set(t.requestId,!0)}customRequest(e,t,s){e==="toggleFormatting"?(this._valuesInHex=!this._valuesInHex,this._useInvalidatedEvent&&this.sendEvent(new F.InvalidatedEvent(["variables"])),this.sendResponse(t)):super.customRequest(e,t,s)}convertToRuntime(e){if(e=e.trim(),e[0]==="'"||e[0]==='"')return e.substring(1,e.length-2);let t=parseFloat(e);return isNaN(t)?e:t.toString()}convertFromRuntime(e){let t={name:e.name,value:e.value,type:e.type,variablesReference:0,evaluateName:e.name};return e.type.search(/\squeue/)!==-1||e.type.search(/\sstruct/)!==-1?(e.reference??(e.reference=this._variableHandles.create(e.name)),t.variablesReference=e.reference):e.type.search(/^int/)!==-1?t.type="integer":e.type.search(/^string/)!==-1&&(t.type="string"),t}createSource(e){return new F.Source((0,ia.basename)(e),e,void 0,void 0,"xrun-adapter")}},xe=Se;xe.threadID=1;var J=ye(require("vscode"));var iu=ye(require("fs")),ru=ye(su());function is(n,e){n.subscriptions.push(J.commands.registerCommand("extension.xrun-debug.SpecifyArgs",s=>J.window.showInputBox({placeHolder:"Please enter debug configuration command line options",value:""})));let t=new ou;n.subscriptions.push(J.debug.registerDebugConfigurationProvider("xrun",t)),e||(e=new au),n.subscriptions.push(J.debug.registerDebugAdapterDescriptorFactory("xrun",e)),"dispose"in e&&n.subscriptions.push(e),n.subscriptions.push(J.languages.registerEvaluatableExpressionProvider("systemverilog",{provideEvaluatableExpression(s,i){let r=/[a-z_\.][a-z0-9_]*/ig,o=s.lineAt(i.line).text,a;for(;a=r.exec(o);){let c=0;if(a[0].charAt(0)=="."){let p=o.search(/[a-z_][a-z0-9_\[\]]*\./);p!==-1&&(c=p)}else c=a.index;let d=new J.Range(i.line,c,i.line,a.index+a[0].length),m=o.substring(c,a.index+a[0].length);if(m.search(/\[.*\]/)!==-1&&(m=m.replace(/\[.*\]/,"[0]")),d.contains(i))return new J.EvaluatableExpression(d,m)}}})),n.subscriptions.push(J.languages.registerInlineValuesProvider("verilog",{provideInlineValues(s,i,r){let o=[];for(let d=i.start.line;d<=i.end.line;d++){let m=s.lineAt(d);var a=/[a-z_][a-z0-9_]*/ig;do{var c=a.exec(m.text);if(c){let p=c[0],v=new J.Range(d,c.index,d,c.index+p.length);o.push(new J.InlineValueVariableLookup(v,p,!1))}}while(c)}return o}}))}var ou=class{async resolveDebugConfiguration(e,t,s){if(t.args&&t.args.search(/.*\.yml$/)!==-1){let i=await J.window.showQuickPick(Object.keys((0,ru.parse)(iu.readFileSync(t.cwd+"/"+t.args,"utf-8")).tests),{canPickMany:!1}).then(r=>Promise.resolve(r));t.args="-t "+i}return t.program?t:J.window.showInformationMessage("Cannot find a program to debug").then(i=>{})}},In={isWindows:!1,async readFile(n){let e;try{e=nu(n)}catch{return new TextEncoder().encode(`cannot read '${n}'`)}return await J.workspace.fs.readFile(e)},async writeFile(n,e){await J.workspace.fs.writeFile(nu(n),e)}};function nu(n){try{return J.Uri.file(n)}catch{return J.Uri.parse(n)}}var au=class{createDebugAdapterDescriptor(e){return new J.DebugAdapterInlineImplementation(new xe(In))}};var eg="inline";function tg(n){switch(eg){case"server":is(n,new hu);break;case"namedPipeServer":is(n,new du);break;case"external":default:is(n,new fu);break;case"inline":is(n);break}console.log("vscode-xrun-debugger is now active!")}function sg(){}var fu=class{createDebugAdapterDescriptor(e,t){if(!t){let s="absolute path to my DA executable",i=["some args","another arg"],r={cwd:"working directory for executable",env:{envVariable:"some value"}};t=new gt.DebugAdapterExecutable(s,i,r)}return t}},hu=class{createDebugAdapterDescriptor(e,t){return this.server||(this.server=mr.createServer(s=>{let i=new xe(In);i.setRunAsServer(!0),i.start(s,s)}).listen(0)),new gt.DebugAdapterServer(this.server.address().port)}dispose(){this.server&&this.server.close()}},du=class{createDebugAdapterDescriptor(e,t){if(!this.server){let s=(0,lu.randomBytes)(10).toString("utf8"),i=uu.platform==="win32"?(0,pr.join)("\\\\.\\pipe\\",s):(0,pr.join)((0,cu.tmpdir)(),s);this.server=mr.createServer(r=>{let o=new xe(In);o.setRunAsServer(!0),o.start(r,r)}).listen(i)}return new gt.DebugAdapterNamedPipeServer(this.server.address())}dispose(){this.server&&this.server.close()}};"use strict";0&&(module.exports={activate,deactivate});
